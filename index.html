<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="author" content="Philippe Massicotte">
  <meta name="dcterms.date" content="2023-03-02">
  <title>Efficient data manipulation with R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="index_files/libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
  <script src="index_files/libs/viz-1.8.2/viz.js"></script>
  <link href="index_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
  <script src="index_files/libs/grViz-binding-1.0.9/grViz.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Efficient data manipulation with R</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Philippe Massicotte 
</div>
        <p class="quarto-title-affiliation">
            Laval University
          </p>
    </div>
</div>

  <p class="date">March 2, 2023</p>
</section>
<section id="who-am-i" class="slide level2">
<h2>Who am I</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img src="images/myname.png" width="400px"></p>
<p><br></p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="images/logos/takuvik.svg"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="images/logos/sn.png"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/logos/ulaval.svg"></p>
</div>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><span style="font-weight:bold;font-size:1.5em">Research assistant at Takuvik (Laval University)</span></p>
<p><small><em>Remote sensing, modelling, data science, data visualization</em></small><br></p>
<p><i class="fa-brands fa-github" aria-hidden="true"></i> <a href="https://github.com/PMassicotte" style="font-weight:bold;">My GitHub</a></p>
<p><i class="fa-brands fa-twitter" aria-hidden="true"></i> <a href="https://twitter.com/philmassicotte" style="font-weight:bold;">Follow me on Twitter</a></p>
<p><i class="fa-brands fa-mastodon" aria-hidden="true"></i> <a href="https://fosstodon.org/@philmassicotte" style="font-weight:bold;">Follow me on Mastodon</a></p>
<p><i class="fa-solid fa-link" aria-hidden="true"></i> <a href="https://www.pmassicotte.com" style="font-weight:bold;">www.pmassicotte.com</a></p>
</div>
</div>
</section>
<section id="context" class="slide level2">
<h2>Context</h2>
<div class="columns">
<div class="column" style="width:70%;">
<figure>
<center>
<img src="images/environmental-data-science-r4ds-general.png" alt="The expanded version of the classic Grolemund &amp; Wickham R4DS workflow, including environmental data &amp; sci comm bookends! Envisioned by Dr. Julia Lowndes for her useR!2019 keynote. Please cite this illustration as: Updated from Grolemund &amp; Wickham's classis R4DS schematic, envisioned by Dr. Julia Lowndes for her 2019 useR! keynote talk and illustrated by Allison Horst." style="width:85%">
<figcaption>
Artwork by Allison Horst
</figcaption>
</center>
</figure>
</div><div class="column" style="width:30%;">
<blockquote>
<p><span style="font-size:0.9em;"><strong>It is often said that 80% of data analysis is spent on cleaning and preparing data.</strong> And it’s not just a first step, but it must be repeated many over the course of analysis as new problems come to light or new data is collected.</span></p>
</blockquote>
</div>
</div>
</section>
<section id="context-1" class="slide level2">
<h2>Context</h2>
<div class="columns">
<div class="column" style="width:70%;">
<figure>
<center>
<img src="images/environmental-data-science-r4ds-general.png" alt="The expanded version of the classic Grolemund &amp; Wickham R4DS workflow, including environmental data &amp; sci comm bookends! Envisioned by Dr. Julia Lowndes for her useR!2019 keynote. Please cite this illustration as: Updated from Grolemund &amp; Wickham's classis R4DS schematic, envisioned by Dr. Julia Lowndes for her 2019 useR! keynote talk and illustrated by Allison Horst." style="width:85%">
<figcaption>
Artwork by Allison Horst
</figcaption>
</center>
</figure>
</div><div class="column" style="width:30%;">
<blockquote>
<p><span style="font-size:0.9em;">Data preprocessing is one of the main steps in the data science project life cycle which involves <strong>converting raw data into a refined form amenable to data analysis</strong>. <a href="https://towardsdatascience.com/three-critical-elements-of-data-preprocessing-part-2-2078110ae8e7">Source: https://towardsdatascience.com</a></span></p>
</blockquote>
</div>
</div>
</section>
<section id="objectives" class="slide level2">
<h2>Objectives</h2>
<div>
<ul>
<li class="fragment"><p>Understand the basics of data manipulation techniques using R.</p></li>
<li class="fragment"><p>Learn how to clean and transform raw data into a format suitable for analysis using <code>dplyr</code> and <code>tidyr</code>.</p></li>
<li class="fragment"><p>Develop the ability to manipulate and analyze datasets: <strong>grouping</strong>, <strong>filtering</strong> and <strong>summarizing</strong>.</p></li>
<li class="fragment"><p>Acquire knowledge on how to <strong>join, merge and aggregate data</strong> from multiple sources to produce meaningful insights.</p></li>
</ul>
</div>
</section>
<section id="who-are-you" class="slide level2">
<h2>Who are you?</h2>
<ul>
<li><p>Diverse faculties and academic backgrounds.</p></li>
<li><p>Efforts to offer examples that are pertinent to everyone in the classroom.</p></li>
</ul>

<img data-src="index_files/figure-revealjs/unnamed-chunk-2-1.png" width="3000" class="r-stretch"></section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<ul>
<li><p>This workshop <strong>is not</strong> an introduction to R programming.</p></li>
<li><p>I am assuming that you already have basic knowledge of R.</p></li>
<li><p>You should know how to:</p>
<ul>
<li>Install R packages</li>
<li>Use R Studio or another of your choice</li>
<li>Create R scripts</li>
<li>Import data</li>
<li>Work with data frame</li>
<li>Perform basic calculations</li>
</ul></li>
</ul>
</section>
<section id="getting-ready-to-code" class="slide level2">
<h2>Getting ready to code!</h2>
<p>If you do not have R/R Studio installed on your laptop, I have created a pre-configured cloud instance of R with all the packages needed for this workshop. If you choose this option, you need to have a free <a href="https://posit.cloud">Posit</a> account.</p>
<ul>
<li><p><strong>Step 1:</strong> Open the course project</p>
<ul>
<li>Go to this URL: <a href="https://posit.cloud/spaces/338666/">https://posit.cloud/spaces/338666/</a>.</li>
<li>You will have to create or login into your Posit account first.</li>
</ul></li>
</ul>
<p class="" style="margin: 10px;">
</p>
<ul>
<li><strong>Step 2:</strong> Make a copy of the project</li>
</ul>
<figure>
<center>
<img src="images/posit_cloud_copy_project.png" alt="Trulli" style="width:60%">
</center>
</figure>
<div class="footer">
<figure>
<center>
<img src="images/Posit-logo-h-full-color-RGB-TM.svg" alt="Trulli" style="width:20%">
</center>
</figure>
</div>
</section>
<section>
<section id="data-frames" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Data frames</h1>

</section>
<section id="data-frames-1" class="slide level2">
<h2>Data frames</h2>
<div>
<ul>
<li class="fragment"><p><strong>Data frames</strong> are important objects in R which are created when reading (most) tabular text files.</p></li>
<li class="fragment"><p>The most useful data structure for data scientists.</p></li>
<li class="fragment"><p>They allow for efficient data manipulation:</p>
<ul>
<li class="fragment">Filtering</li>
<li class="fragment">Summarizing</li>
<li class="fragment">Aggregating</li>
<li class="fragment">Joining</li>
<li class="fragment">And much more!</li>
</ul></li>
</ul>
</div>
</section>
<section id="data-frames-2" class="slide level2">
<h2>Data frames</h2>
<ul>
<li>A data frame can be seen as an Excel tabular sheet: <strong>Lines are observations</strong> and <strong>columns are variables</strong>.</li>
</ul>
<figure>
<center>
<img src="https://rstudio-education.github.io/tidyverse-cookbook/images/tidy-data.png" alt="Trulli" style="width:50%">
<figcaption>
Source: <a href="https://rstudio-education.github.io/tidyverse-cookbook/">Tidyverse cookbook</a>
</figcaption>
</center>
</figure>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>A data frame can be seen as a matrix with the difference that <strong>columns (variables) can be of different types</strong> (numerics, dates, characters, etc.).</p>
</div>
</div>
</div>
</section>
<section id="data-frames-3" class="slide level2">
<h2>Data frames</h2>
<p>The <code>mtcars</code> data frame is included in base R.</p>
<div class="columns">
<div class="column" style="width:40%;">
<blockquote>
<p>The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973–74 models).</p>
</blockquote>
</div><div class="column small" style="width:60%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-3_f2d7e45df4c5f39f02666aab10ef3e80">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="importing-data-in-r" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Importing data in R</h1>

</section>
<section id="reading-files" class="slide level2">
<h2>Reading files</h2>
<ul>
<li><p>Why bother about <strong>data frame</strong>? Most of the time, this is the data structure that will be created when importing data in R.</p></li>
<li><p>There are many functions to import data in R.</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>File format</strong></th>
<th><strong>Function</strong></th>
<th><strong>Package</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Comma separated values (.csv)</td>
<td><code>read_csv()</code></td>
<td>readr</td>
</tr>
<tr class="even">
<td>Other text files (.txt, .dat, …)</td>
<td><code>read_delim()</code></td>
<td>readr</td>
</tr>
<tr class="odd">
<td>Excel (.xls, .xlsx)</td>
<td><code>read_excel()</code></td>
<td>readxl</td>
</tr>
<tr class="even">
<td>Stata</td>
<td><code>read_stata()</code></td>
<td>haven</td>
</tr>
<tr class="odd">
<td>SPSS</td>
<td><code>read_spss()</code></td>
<td>haven</td>
</tr>
<tr class="even">
<td>SAS</td>
<td><code>read_sas()</code></td>
<td>haven</td>
</tr>
<tr class="odd">
<td>Matlab file (.mat)</td>
<td><code>readMat()</code></td>
<td>R.matlab</td>
</tr>
</tbody>
</table>
</section>
<section id="reading-excel-files" class="slide level2">
<h2>Reading Excel files</h2>
<div class="columns">
<div class="column" style="width:80%;">
<p>To read Excel files, we can use <code>read_excel()</code> from the <code>readxl</code> package.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-4_f2d0c6f5c021b675e7d5441cf2221034">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Load the readxl package</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">library</span>(readxl)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Read the first sheet in a file</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"/path/to/myfile.xls"</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># Read the third sheet in a file</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"/path/to/myfile.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:20%;">
<p><img data-src="https://raw.githubusercontent.com/tidyverse/readxl/main/img/readxl.png" width="400"></p>
</div>
</div>
</section>
<section id="reading-csv-files" class="slide level2">
<h2>Reading CSV files</h2>
<div class="columns">
<div class="column" style="width:80%;">
<p>To read CSV files, we can use <code>read_csv()</code> from the <code>readr</code> package.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-5_ac278462a6408ba01de3b0188996903e">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="1-6|7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Load the readr package</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">library</span>(readr)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># If the column delimiter is ","</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/path/to/myfile.csv"</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co"># If the column delimiter is ";"</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"/path/to/myfile.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:20%;">
<p><img data-src="https://raw.githubusercontent.com/rstudio/hex-stickers/main/PNG/readr.png" width="400"></p>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Note that the base R function to read a CSV file is <code>read.csv()</code>. Do not confuse with the <code>read_csv()</code> function from <code>readr</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="reading-files-online" class="slide level2">
<h2>Reading files online</h2>
<p>It is also possible to read files hosted online by providing an URL. For example, let’s read daily weather updates from the Curiosity Rover on Mars.</p>
<div class="small">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-6_af608a145c32b67a3dda952e27cafd2b">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>mars <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://query.data.world/s/nig6iktbywlhnws22gfz6tvstwtmuu"</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>mars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,894 × 10
      id terrestrial…¹   sol    ls month min_t…² max_t…³ press…⁴ wind_…⁵ atmo_…⁶
   &lt;dbl&gt; &lt;date&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  1895 2018-02-27     1977   135 Mont…     -77     -10     727     NaN Sunny  
 2  1893 2018-02-26     1976   135 Mont…     -77     -10     728     NaN Sunny  
 3  1894 2018-02-25     1975   134 Mont…     -76     -16     729     NaN Sunny  
 4  1892 2018-02-24     1974   134 Mont…     -77     -13     729     NaN Sunny  
 5  1889 2018-02-23     1973   133 Mont…     -78     -18     730     NaN Sunny  
 6  1891 2018-02-22     1972   133 Mont…     -78     -14     730     NaN Sunny  
 7  1890 2018-02-21     1971   132 Mont…     -78     -13     731     NaN Sunny  
 8  1888 2018-02-20     1970   132 Mont…     -77     -16     731     NaN Sunny  
 9  1887 2018-02-19     1969   131 Mont…     -76     -16     732     NaN Sunny  
10  1886 2018-02-18     1968   131 Mont…     -76     -19     732     NaN Sunny  
# … with 1,884 more rows, and abbreviated variable names ¹​terrestrial_date,
#   ²​min_temp, ³​max_temp, ⁴​pressure, ⁵​wind_speed, ⁶​atmo_opacity</code></pre>
</div>
</div>
</div>
</section>
<section id="reading-files-online-1" class="slide level2">
<h2>Reading files online</h2>
<div class="cell" data-layout-align="center" data-hash="index_cache/revealjs/unnamed-chunk-7_a512ab2f7bd24c3c5b9d6f2b6e7a7fae">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mars <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">"temp"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> terrestrial_date, <span class="at">y =</span> value, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_tableau</span>(</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">"min_temp"</span>, <span class="st">"max_temp"</span>),</span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Min. temp."</span>, <span class="st">"Max. temp."</span>)</span>
<span id="cb7-9"><a href="#cb7-9"></a>  ) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-12"><a href="#cb7-12"></a>    <span class="at">title =</span> <span class="st">"Daily weather updates from the Curiosity Rover on Mars"</span>,</span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="at">caption =</span> <span class="st">"Source: https://data.world/the-pudding/mars-weather"</span>,</span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-15"><a href="#cb7-15"></a>    <span class="at">y =</span> <span class="fu">str_wrap</span>(<span class="st">"Temperature (in °C) observed during a single Martian sol"</span>, <span class="dv">30</span>)</span>
<span id="cb7-16"><a href="#cb7-16"></a>  ) <span class="sc">+</span></span>
<span id="cb7-17"><a href="#cb7-17"></a>  <span class="fu">theme</span>(</span>
<span id="cb7-18"><a href="#cb7-18"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb7-19"><a href="#cb7-19"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">color =</span> <span class="st">"gray65"</span>),</span>
<span id="cb7-20"><a href="#cb7-20"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb7-21"><a href="#cb7-21"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FDF6E3"</span>, <span class="at">color =</span> <span class="st">"#FDF6E3"</span>),</span>
<span id="cb7-22"><a href="#cb7-22"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FDF6E3"</span>, <span class="at">color =</span> <span class="st">"#FDF6E3"</span>),</span>
<span id="cb7-23"><a href="#cb7-23"></a>    <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FDF6E3"</span>, <span class="at">color =</span> <span class="st">"#FDF6E3"</span>),</span>
<span id="cb7-24"><a href="#cb7-24"></a>    <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FDF6E3"</span>, <span class="at">color =</span> <span class="st">"#FDF6E3"</span>)</span>
<span id="cb7-25"><a href="#cb7-25"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-7-1.png" width="2100" class="r-stretch quarto-figure-center"></section>
<section id="exporting-data" class="slide level2">
<h2>Exporting data</h2>
<p>Similarly, exporting a data frame into a file can be done using: <code>write_*()</code>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-8_5cb0b8f59b3b787b9760f519e8ccee7a">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">write_csv</span>(df, <span class="st">"/path/to/myfile.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">write_csv2</span>(df, <span class="st">"/path/to/myfile.csv"</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">write_tsv</span>(df, <span class="st">"/path/to/myfile.tsv"</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="fu">write_delim</span>(df, <span class="st">"/path/to/myfile.tab"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example, you could export the <code>mtcars</code> data frame in tab-delimited and comma-delimited files on your desktop:</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-9_0660de567f6a976139bfb4dc85adcabc">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">write_delim</span>(mtcars, <span class="st">"~/Desktop/mtcars.tab"</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">write_csv</span>(mtcars, <span class="st">"~/Desktop/mtcars.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-is-a-tibble" class="slide level2">
<h2>What is a <code>tibble</code>?</h2>
<p>In base R, the main object holding <strong>sheet-like data</strong> is called a <code>data.frame</code>. In the <code>tidyverse</code> ecosystem, they are called <code>tibble</code>, which can be seen as <strong>a pimped version</strong> of a <code>data.frame</code>.</p>
<div class="columns small">
<div class="column fragment" style="width:50%;">
<p><strong>This is a <code>data.frame</code></strong></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-10_f1895a9a31942d6f9ef129e08c6cf45e">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">head</span>(mtcars[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl  disp  hp drat
Mazda RX4         21.0   6 160.0 110 3.90
Mazda RX4 Wag     21.0   6 160.0 110 3.90
Datsun 710        22.8   4 108.0  93 3.85
Hornet 4 Drive    21.4   6 258.0 110 3.08
Hornet Sportabout 18.7   8 360.0 175 3.15
Valiant           18.1   6 225.0 105 2.76
Duster 360        14.3   8 360.0 245 3.21
Merc 240D         24.4   4 146.7  62 3.69
Merc 230          22.8   4 140.8  95 3.92
Merc 280          19.2   6 167.6 123 3.92
Merc 280C         17.8   6 167.6 123 3.92
Merc 450SE        16.4   8 275.8 180 3.07</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<p><strong>This is a <code>tibble</code></strong></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-11_26500d0b157b40d5994288d84726358e">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">head</span>(<span class="fu">as_tibble</span>(mtcars[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">rownames =</span> <span class="st">"model"</span>), <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 6
   model               mpg   cyl  disp    hp  drat
   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Mazda RX4          21       6  160    110  3.9 
 2 Mazda RX4 Wag      21       6  160    110  3.9 
 3 Datsun 710         22.8     4  108     93  3.85
 4 Hornet 4 Drive     21.4     6  258    110  3.08
 5 Hornet Sportabout  18.7     8  360    175  3.15
 6 Valiant            18.1     6  225    105  2.76
 7 Duster 360         14.3     8  360    245  3.21
 8 Merc 240D          24.4     4  147.    62  3.69
 9 Merc 230           22.8     4  141.    95  3.92
10 Merc 280           19.2     6  168.   123  3.92
11 Merc 280C          17.8     6  168.   123  3.92
12 Merc 450SE         16.4     8  276.   180  3.07</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="reading-csv-files-an-example" class="slide level2">
<h2>Reading CSV files (an example)</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-12_048af1b4c955579e1c12b4e8da2c0dd7">

</div>
<div class="columns small">
<div class="column" style="width:50%;">
<p><span style="font-size:1.3em;">Reading using base R creates a <code>data frame</code></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-13_351bfb687b4b7801d30387ce83f42b37">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">read.csv</span>(<span class="st">"data/usarrests.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            state Murder Assault UrbanPop Rape
1         Alabama   13.2     236       58 21.2
2          Alaska   10.0     263       48 44.5
3         Arizona    8.1     294       80 31.0
4        Arkansas    8.8     190       50 19.5
5      California    9.0     276       91 40.6
6        Colorado    7.9     204       78 38.7
7     Connecticut    3.3     110       77 11.1
8        Delaware    5.9     238       72 15.8
9         Florida   15.4     335       80 31.9
10        Georgia   17.4     211       60 25.8
11         Hawaii    5.3      46       83 20.2
12          Idaho    2.6     120       54 14.2
13       Illinois   10.4     249       83 24.0
14        Indiana    7.2     113       65 21.0
15           Iowa    2.2      56       57 11.3
16         Kansas    6.0     115       66 18.0
17       Kentucky    9.7     109       52 16.3
18      Louisiana   15.4     249       66 22.2
19          Maine    2.1      83       51  7.8
20       Maryland   11.3     300       67 27.8
21  Massachusetts    4.4     149       85 16.3
22       Michigan   12.1     255       74 35.1
23      Minnesota    2.7      72       66 14.9
24    Mississippi   16.1     259       44 17.1
25       Missouri    9.0     178       70 28.2
26        Montana    6.0     109       53 16.4
27       Nebraska    4.3     102       62 16.5
28         Nevada   12.2     252       81 46.0
29  New Hampshire    2.1      57       56  9.5
30     New Jersey    7.4     159       89 18.8
31     New Mexico   11.4     285       70 32.1
32       New York   11.1     254       86 26.1
33 North Carolina   13.0     337       45 16.1
34   North Dakota    0.8      45       44  7.3
35           Ohio    7.3     120       75 21.4
36       Oklahoma    6.6     151       68 20.0
37         Oregon    4.9     159       67 29.3
38   Pennsylvania    6.3     106       72 14.9
39   Rhode Island    3.4     174       87  8.3
40 South Carolina   14.4     279       48 22.5
41   South Dakota    3.8      86       45 12.8
42      Tennessee   13.2     188       59 26.9
43          Texas   12.7     201       80 25.5
44           Utah    3.2     120       80 22.9
45        Vermont    2.2      48       32 11.2
46       Virginia    8.5     156       63 20.7
47     Washington    4.0     145       73 26.2
48  West Virginia    5.7      81       39  9.3
49      Wisconsin    2.6      53       66 10.8
50        Wyoming    6.8     161       60 15.6</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><span style="font-size:1.3em;">Reading using <code>readr</code> creates a <code>tibble</code></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-14_ad664815af8a1d87faf8a17667cb1042">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">read_csv</span>(<span class="st">"data/usarrests.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 50 × 5
   state       Murder Assault UrbanPop  Rape
   &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
 1 Alabama       13.2     236       58  21.2
 2 Alaska        10       263       48  44.5
 3 Arizona        8.1     294       80  31  
 4 Arkansas       8.8     190       50  19.5
 5 California     9       276       91  40.6
 6 Colorado       7.9     204       78  38.7
 7 Connecticut    3.3     110       77  11.1
 8 Delaware       5.9     238       72  15.8
 9 Florida       15.4     335       80  31.9
10 Georgia       17.4     211       60  25.8
# … with 40 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="importing-data" class="slide level2">
<h2>Importing data</h2>
<p>Your turn: try reading the data (CSV file) located at this location:</p>
<p><a href="https://bit.ly/3xrnh3U" style="font-size:2em;">https://bit.ly/3xrnh3U</a></p>
<p>Use the <span style="font-family:ubuntu;"><strong>&lt;-</strong></span> operator to create a new variable (ex.: <code>df</code>).</p>
<div class="fragment">
<div class="columns small">
<div class="column" style="width:38%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-15_445e2d7e347bae3cc5595446c7152748">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bit.ly/3xrnh3U"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:62%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-16_bbdd38b956ce2a973320d11e14f6342e">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,309 × 9
   pclass sex      age family_size ticket    fare cabin   embarked survived
    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;
 1      1 female 29              0 24160    211.  B5      S               1
 2      1 male    0.92           3 113781   152.  C22 C26 S               1
 3      1 female  2              3 113781   152.  C22 C26 S               0
 4      1 male   30              3 113781   152.  C22 C26 S               0
 5      1 female 25              3 113781   152.  C22 C26 S               0
 6      1 male   48              0 19952     26.6 E12     S               1
 7      1 female 63              1 13502     78.0 D7      S               1
 8      1 male   39              0 112050     0   A36     S               0
 9      1 female 53              2 11769     51.5 C101    S               1
10      1 male   71              0 PC 17609  49.5 &lt;NA&gt;    C               0
# … with 1,299 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="manipulating-data-in-r" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Manipulating data in R</h1>

</section>
<section id="data-manipulation" class="slide level2">
<h2>Data manipulation</h2>
<p>There are two main characteristics of good data manipulation:</p>
<div class="fragment">
<ol type="1">
<li><strong>speed</strong>: results are returned in a reasonable time</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>elegance</strong>: easy to use and to understand what the code is doing</li>
</ol>
</div>
<div class="fragment">
<blockquote>
<p>The <strong>tidyverse</strong> is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
</blockquote>
</div>
</section>
<section id="the-tidyverse" class="slide level2">
<h2>The tidyverse</h2>
<p>The tidyverse provides a set of packages which provides flexible tools for data manipulation.</p>
<center>
<img src="https://tidyverse.tidyverse.org/logo.png" width="400">
</center>
<center>
<img src="https://dplyr.tidyverse.org/logo.png" width="200"> <img src="https://tidyr.tidyverse.org/logo.png" width="200"> <img src="https://readr.tidyverse.org/logo.png" width="200"> <img src="https://readxl.tidyverse.org/logo.png" width="200"> <img src="https://ggplot2.tidyverse.org/logo.png" width="200"><img src="https://stringr.tidyverse.org/logo.png" width="200"><img src="https://lubridate.tidyverse.org/logo.png" width="200">
</center>
</section>
<section id="the-tidyverse-1" class="slide level2">
<h2>The tidyverse</h2>
<p>The package is not included in the base installation of R.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-17_e0a385d488395621a8f76f49a519ad09">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Install the tidyverse packages</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-18_bef900704720d2a0eceb8e743299a4b9">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Load all the packages included in tidyverse</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can refer to the printed <strong>cheat sheet</strong> for an overview of the package’s functions.</p>
</section></section>
<section>
<section id="data-manipulation-with-dplyr" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Data manipulation with {dplyr}</h1>

</section>
<section id="dplyr" class="slide level2">
<h2>dplyr</h2>
<blockquote>
<p>dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges</p>
</blockquote>
<p>All <code>dplyr</code> functions use the same scheme: <strong>the first argument to provide is a data frame</strong>.</p>
<table>
<caption>Useful functions</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Function</strong></th>
<th><strong>Definition</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>filter(df, ...)</code></td>
<td>Select a subset of the rows of a data frame.</td>
</tr>
<tr class="even">
<td><code>arrange(df, ...)</code></td>
<td>Reorder rows of a data frame.</td>
</tr>
<tr class="odd">
<td><code>select(df, ...)</code></td>
<td>Select columns of a data frame.</td>
</tr>
<tr class="even">
<td><code>mutate(df, ...)</code></td>
<td>Add or modify columns in a data frame.</td>
</tr>
<tr class="odd">
<td><code>summarise(df, ...)</code></td>
<td>Summarize a data frame into a single row. This function is very helpful in combination with the <code>group_by()</code> function.</td>
</tr>
<tr class="even">
<td><code>group_by(df, ...)</code></td>
<td>Group a data frame based on the specified columns.</td>
</tr>
</tbody>
</table>
</section>
<section id="the-nycflights13-datasets" class="slide level2">
<h2>The <code>nycflights13</code> datasets</h2>
<div>
<ul>
<li class="fragment"><p>To learn how to use these functions, we will use datasets from package <code>nycflights13</code>.</p></li>
<li class="fragment"><p>This package contains information about all flights that departed from New York airports (i.e., <strong>EWR</strong>, <strong>JFK</strong> and <strong>LGA</strong>) in 2013.</p></li>
<li class="fragment"><p>Not included in base R, we first need to install it.</p></li>
</ul>
</div>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-19_3142ac79e6a3e7a038b3252ab5bdcfc4">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Install the dataset package</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">install.packages</span>(<span class="st">"nycflights13"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="relationships" class="slide level2">
<h2>Relationships</h2>
<figure>
<center>
<img src="https://bookdown.org/asmundhreinn/r4ds-master/diagrams/relational-nycflights.png" alt="Trulli" style="width:50%">
<figcaption>
Source: <a href="https://bookdown.org/asmundhreinn/r4ds-master/">R for Data Science</a>
</figcaption>
</center>
</figure>
<ul>
<li>The <code>flights</code> table connects to planes via a single variable, <code>tailnum</code>.</li>
<li>The <code>flights</code> table connects to <code>airports</code> in two ways: via the <code>origin</code> and <code>dest</code> variables.</li>
</ul>
</section>
<section id="nycflights13" class="slide level2">
<h2>nycflights13</h2>
<p>For the following examples we are going to use <strong>fights</strong>, <strong>planes</strong>, <strong>airports</strong>, <strong>airlines</strong> tables.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-20_bdc2de763a5c3ce335dd9de25c1ab441">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Libraries for data manipulation and visualization</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb24-3"><a href="#cb24-3"></a></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="co"># Load the data package</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="co"># Loads all the five data frame included in nycflights13</span></span>
<span id="cb24-8"><a href="#cb24-8"></a><span class="fu">data</span>(flights)</span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="fu">data</span>(planes)</span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="fu">data</span>(airports)</span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="fu">data</span>(airlines)</span>
<span id="cb24-12"><a href="#cb24-12"></a><span class="fu">data</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-flights-table" class="slide level2">
<h2>The <code>flights</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-21_c411b7b63a76c105bad7b66452a33362">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">glimpse</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 336,776
Columns: 19
$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…
$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, …
$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, …
$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1…
$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,…
$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,…
$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1…
$ carrier        &lt;chr&gt; "UA", "UA", "AA", "B6", "DL", "UA", "B6", "EV", "B6", "…
$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4…
$ tailnum        &lt;chr&gt; "N14228", "N24211", "N619AA", "N804JB", "N668DN", "N394…
$ origin         &lt;chr&gt; "EWR", "LGA", "JFK", "JFK", "LGA", "EWR", "EWR", "LGA",…
$ dest           &lt;chr&gt; "IAH", "IAH", "MIA", "BQN", "ATL", "ORD", "FLL", "IAD",…
$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1…
$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, …
$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6…
$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0…
$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0…</code></pre>
</div>
</div>
</section>
<section id="the-flights-table-1" class="slide level2">
<h2>The <code>flights</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-22_658c5b153fa495ab09492c98d680ad03">
<div class="cell-output-display">

<div id="vqhmysqhul" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#vqhmysqhul) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#vqhmysqhul) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#vqhmysqhul) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#vqhmysqhul) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#vqhmysqhul) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#vqhmysqhul) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#vqhmysqhul) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#vqhmysqhul) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#vqhmysqhul) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#vqhmysqhul) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#vqhmysqhul) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#vqhmysqhul) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#vqhmysqhul) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#vqhmysqhul) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vqhmysqhul) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#vqhmysqhul) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#vqhmysqhul) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vqhmysqhul) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#vqhmysqhul) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vqhmysqhul) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#vqhmysqhul) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vqhmysqhul) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#vqhmysqhul) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vqhmysqhul) .gt_left {
  text-align: left;
}

:where(#vqhmysqhul) .gt_center {
  text-align: center;
}

:where(#vqhmysqhul) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#vqhmysqhul) .gt_font_normal {
  font-weight: normal;
}

:where(#vqhmysqhul) .gt_font_bold {
  font-weight: bold;
}

:where(#vqhmysqhul) .gt_font_italic {
  font-style: italic;
}

:where(#vqhmysqhul) .gt_super {
  font-size: 65%;
}

:where(#vqhmysqhul) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#vqhmysqhul) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#vqhmysqhul) .gt_indent_1 {
  text-indent: 5px;
}

:where(#vqhmysqhul) .gt_indent_2 {
  text-indent: 10px;
}

:where(#vqhmysqhul) .gt_indent_3 {
  text-indent: 15px;
}

:where(#vqhmysqhul) .gt_indent_4 {
  text-indent: 20px;
}

:where(#vqhmysqhul) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="month">month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="day">day</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dep_time">dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sched_dep_time">sched_dep_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dep_delay">dep_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="arr_time">arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sched_arr_time">sched_arr_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="arr_delay">arr_delay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="carrier">carrier</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="flight">flight</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="tailnum">tailnum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="origin">origin</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="dest">dest</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="air_time">air_time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="hour">hour</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="minute">minute</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="time_hour">time_hour</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">517</td>
<td headers="sched_dep_time" class="gt_row gt_right">515</td>
<td headers="dep_delay" class="gt_row gt_right">2</td>
<td headers="arr_time" class="gt_row gt_right">830</td>
<td headers="sched_arr_time" class="gt_row gt_right">819</td>
<td headers="arr_delay" class="gt_row gt_right">11</td>
<td headers="carrier" class="gt_row gt_left">UA</td>
<td headers="flight" class="gt_row gt_right">1545</td>
<td headers="tailnum" class="gt_row gt_left">N14228</td>
<td headers="origin" class="gt_row gt_left">EWR</td>
<td headers="dest" class="gt_row gt_left">IAH</td>
<td headers="air_time" class="gt_row gt_right">227</td>
<td headers="distance" class="gt_row gt_right">1400</td>
<td headers="hour" class="gt_row gt_right">5</td>
<td headers="minute" class="gt_row gt_right">15</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 05:00:00</td></tr>
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">533</td>
<td headers="sched_dep_time" class="gt_row gt_right">529</td>
<td headers="dep_delay" class="gt_row gt_right">4</td>
<td headers="arr_time" class="gt_row gt_right">850</td>
<td headers="sched_arr_time" class="gt_row gt_right">830</td>
<td headers="arr_delay" class="gt_row gt_right">20</td>
<td headers="carrier" class="gt_row gt_left">UA</td>
<td headers="flight" class="gt_row gt_right">1714</td>
<td headers="tailnum" class="gt_row gt_left">N24211</td>
<td headers="origin" class="gt_row gt_left">LGA</td>
<td headers="dest" class="gt_row gt_left">IAH</td>
<td headers="air_time" class="gt_row gt_right">227</td>
<td headers="distance" class="gt_row gt_right">1416</td>
<td headers="hour" class="gt_row gt_right">5</td>
<td headers="minute" class="gt_row gt_right">29</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 05:00:00</td></tr>
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">542</td>
<td headers="sched_dep_time" class="gt_row gt_right">540</td>
<td headers="dep_delay" class="gt_row gt_right">2</td>
<td headers="arr_time" class="gt_row gt_right">923</td>
<td headers="sched_arr_time" class="gt_row gt_right">850</td>
<td headers="arr_delay" class="gt_row gt_right">33</td>
<td headers="carrier" class="gt_row gt_left">AA</td>
<td headers="flight" class="gt_row gt_right">1141</td>
<td headers="tailnum" class="gt_row gt_left">N619AA</td>
<td headers="origin" class="gt_row gt_left">JFK</td>
<td headers="dest" class="gt_row gt_left">MIA</td>
<td headers="air_time" class="gt_row gt_right">160</td>
<td headers="distance" class="gt_row gt_right">1089</td>
<td headers="hour" class="gt_row gt_right">5</td>
<td headers="minute" class="gt_row gt_right">40</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 05:00:00</td></tr>
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">544</td>
<td headers="sched_dep_time" class="gt_row gt_right">545</td>
<td headers="dep_delay" class="gt_row gt_right">-1</td>
<td headers="arr_time" class="gt_row gt_right">1004</td>
<td headers="sched_arr_time" class="gt_row gt_right">1022</td>
<td headers="arr_delay" class="gt_row gt_right">-18</td>
<td headers="carrier" class="gt_row gt_left">B6</td>
<td headers="flight" class="gt_row gt_right">725</td>
<td headers="tailnum" class="gt_row gt_left">N804JB</td>
<td headers="origin" class="gt_row gt_left">JFK</td>
<td headers="dest" class="gt_row gt_left">BQN</td>
<td headers="air_time" class="gt_row gt_right">183</td>
<td headers="distance" class="gt_row gt_right">1576</td>
<td headers="hour" class="gt_row gt_right">5</td>
<td headers="minute" class="gt_row gt_right">45</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 05:00:00</td></tr>
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">554</td>
<td headers="sched_dep_time" class="gt_row gt_right">600</td>
<td headers="dep_delay" class="gt_row gt_right">-6</td>
<td headers="arr_time" class="gt_row gt_right">812</td>
<td headers="sched_arr_time" class="gt_row gt_right">837</td>
<td headers="arr_delay" class="gt_row gt_right">-25</td>
<td headers="carrier" class="gt_row gt_left">DL</td>
<td headers="flight" class="gt_row gt_right">461</td>
<td headers="tailnum" class="gt_row gt_left">N668DN</td>
<td headers="origin" class="gt_row gt_left">LGA</td>
<td headers="dest" class="gt_row gt_left">ATL</td>
<td headers="air_time" class="gt_row gt_right">116</td>
<td headers="distance" class="gt_row gt_right">762</td>
<td headers="hour" class="gt_row gt_right">6</td>
<td headers="minute" class="gt_row gt_right">0</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 06:00:00</td></tr>
    <tr><td headers="year" class="gt_row gt_right">2013</td>
<td headers="month" class="gt_row gt_right">1</td>
<td headers="day" class="gt_row gt_right">1</td>
<td headers="dep_time" class="gt_row gt_right">554</td>
<td headers="sched_dep_time" class="gt_row gt_right">558</td>
<td headers="dep_delay" class="gt_row gt_right">-4</td>
<td headers="arr_time" class="gt_row gt_right">740</td>
<td headers="sched_arr_time" class="gt_row gt_right">728</td>
<td headers="arr_delay" class="gt_row gt_right">12</td>
<td headers="carrier" class="gt_row gt_left">UA</td>
<td headers="flight" class="gt_row gt_right">1696</td>
<td headers="tailnum" class="gt_row gt_left">N39463</td>
<td headers="origin" class="gt_row gt_left">EWR</td>
<td headers="dest" class="gt_row gt_left">ORD</td>
<td headers="air_time" class="gt_row gt_right">150</td>
<td headers="distance" class="gt_row gt_right">719</td>
<td headers="hour" class="gt_row gt_right">5</td>
<td headers="minute" class="gt_row gt_right">58</td>
<td headers="time_hour" class="gt_row gt_right">2013-01-01 05:00:00</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="the-planes-table" class="slide level2">
<h2>The <code>planes</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-23_72102793042b9b14ded41fa44346cb7e">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">glimpse</span>(planes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,322
Columns: 9
$ tailnum      &lt;chr&gt; "N10156", "N102UW", "N103US", "N104UW", "N10575", "N105UW…
$ year         &lt;int&gt; 2004, 1998, 1999, 1999, 2002, 1999, 1999, 1999, 1999, 199…
$ type         &lt;chr&gt; "Fixed wing multi engine", "Fixed wing multi engine", "Fi…
$ manufacturer &lt;chr&gt; "EMBRAER", "AIRBUS INDUSTRIE", "AIRBUS INDUSTRIE", "AIRBU…
$ model        &lt;chr&gt; "EMB-145XR", "A320-214", "A320-214", "A320-214", "EMB-145…
$ engines      &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
$ seats        &lt;int&gt; 55, 182, 182, 182, 55, 182, 182, 182, 182, 182, 55, 55, 5…
$ speed        &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ engine       &lt;chr&gt; "Turbo-fan", "Turbo-fan", "Turbo-fan", "Turbo-fan", "Turb…</code></pre>
</div>
</div>
</section>
<section id="the-planes-table-1" class="slide level2">
<h2>The <code>planes</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-24_63ad6b9e3df19d45bc0153cdedc9f5ad">
<div class="cell-output-display">

<div id="ybpiiuhjxt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ybpiiuhjxt) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ybpiiuhjxt) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ybpiiuhjxt) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ybpiiuhjxt) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ybpiiuhjxt) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ybpiiuhjxt) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ybpiiuhjxt) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ybpiiuhjxt) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ybpiiuhjxt) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ybpiiuhjxt) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ybpiiuhjxt) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ybpiiuhjxt) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ybpiiuhjxt) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ybpiiuhjxt) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ybpiiuhjxt) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ybpiiuhjxt) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ybpiiuhjxt) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ybpiiuhjxt) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ybpiiuhjxt) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ybpiiuhjxt) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ybpiiuhjxt) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ybpiiuhjxt) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ybpiiuhjxt) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ybpiiuhjxt) .gt_left {
  text-align: left;
}

:where(#ybpiiuhjxt) .gt_center {
  text-align: center;
}

:where(#ybpiiuhjxt) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ybpiiuhjxt) .gt_font_normal {
  font-weight: normal;
}

:where(#ybpiiuhjxt) .gt_font_bold {
  font-weight: bold;
}

:where(#ybpiiuhjxt) .gt_font_italic {
  font-style: italic;
}

:where(#ybpiiuhjxt) .gt_super {
  font-size: 65%;
}

:where(#ybpiiuhjxt) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ybpiiuhjxt) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ybpiiuhjxt) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ybpiiuhjxt) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ybpiiuhjxt) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ybpiiuhjxt) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ybpiiuhjxt) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="tailnum">tailnum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="type">type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="manufacturer">manufacturer</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="model">model</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="engines">engines</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="seats">seats</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="speed">speed</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="engine">engine</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="tailnum" class="gt_row gt_left">N10156</td>
<td headers="year" class="gt_row gt_right">2004</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">EMBRAER</td>
<td headers="model" class="gt_row gt_left">EMB-145XR</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">55</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
    <tr><td headers="tailnum" class="gt_row gt_left">N102UW</td>
<td headers="year" class="gt_row gt_right">1998</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">AIRBUS INDUSTRIE</td>
<td headers="model" class="gt_row gt_left">A320-214</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">182</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
    <tr><td headers="tailnum" class="gt_row gt_left">N103US</td>
<td headers="year" class="gt_row gt_right">1999</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">AIRBUS INDUSTRIE</td>
<td headers="model" class="gt_row gt_left">A320-214</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">182</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
    <tr><td headers="tailnum" class="gt_row gt_left">N104UW</td>
<td headers="year" class="gt_row gt_right">1999</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">AIRBUS INDUSTRIE</td>
<td headers="model" class="gt_row gt_left">A320-214</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">182</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
    <tr><td headers="tailnum" class="gt_row gt_left">N10575</td>
<td headers="year" class="gt_row gt_right">2002</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">EMBRAER</td>
<td headers="model" class="gt_row gt_left">EMB-145LR</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">55</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
    <tr><td headers="tailnum" class="gt_row gt_left">N105UW</td>
<td headers="year" class="gt_row gt_right">1999</td>
<td headers="type" class="gt_row gt_left">Fixed wing multi engine</td>
<td headers="manufacturer" class="gt_row gt_left">AIRBUS INDUSTRIE</td>
<td headers="model" class="gt_row gt_left">A320-214</td>
<td headers="engines" class="gt_row gt_right">2</td>
<td headers="seats" class="gt_row gt_right">182</td>
<td headers="speed" class="gt_row gt_right">NA</td>
<td headers="engine" class="gt_row gt_left">Turbo-fan</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="the-airports-table" class="slide level2">
<h2>The <code>airports</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-25_4076fbe0f37267ef1e0ebfa1a22c777e">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">glimpse</span>(airports)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,458
Columns: 8
$ faa   &lt;chr&gt; "04G", "06A", "06C", "06N", "09J", "0A9", "0G6", "0G7", "0P2", "…
$ name  &lt;chr&gt; "Lansdowne Airport", "Moton Field Municipal Airport", "Schaumbur…
$ lat   &lt;dbl&gt; 41.13047, 32.46057, 41.98934, 41.43191, 31.07447, 36.37122, 41.4…
$ lon   &lt;dbl&gt; -80.61958, -85.68003, -88.10124, -74.39156, -81.42778, -82.17342…
$ alt   &lt;dbl&gt; 1044, 264, 801, 523, 11, 1593, 730, 492, 1000, 108, 409, 875, 10…
$ tz    &lt;dbl&gt; -5, -6, -6, -5, -5, -5, -5, -5, -5, -8, -5, -6, -5, -5, -5, -5, …
$ dst   &lt;chr&gt; "A", "A", "A", "A", "A", "A", "A", "A", "U", "A", "A", "U", "A",…
$ tzone &lt;chr&gt; "America/New_York", "America/Chicago", "America/Chicago", "Ameri…</code></pre>
</div>
</div>
</section>
<section id="the-airlines-table" class="slide level2">
<h2>The <code>airlines</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-26_20c75fe76de68f5024d3e191ffa6b532">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">glimpse</span>(airlines)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 16
Columns: 2
$ carrier &lt;chr&gt; "9E", "AA", "AS", "B6", "DL", "EV", "F9", "FL", "HA", "MQ", "O…
$ name    &lt;chr&gt; "Endeavor Air Inc.", "American Airlines Inc.", "Alaska Airline…</code></pre>
</div>
</div>
</section>
<section id="the-weather-table" class="slide level2">
<h2>The <code>weather</code> table</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-27_e7ea96bf57207e22b95678c58f66e1f5">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">glimpse</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,115
Columns: 15
$ origin     &lt;chr&gt; "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EW…
$ year       &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013,…
$ month      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ day        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ hour       &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, …
$ temp       &lt;dbl&gt; 39.02, 39.02, 39.02, 39.92, 39.02, 37.94, 39.02, 39.92, 39.…
$ dewp       &lt;dbl&gt; 26.06, 26.96, 28.04, 28.04, 28.04, 28.04, 28.04, 28.04, 28.…
$ humid      &lt;dbl&gt; 59.37, 61.63, 64.43, 62.21, 64.43, 67.21, 64.43, 62.21, 62.…
$ wind_dir   &lt;dbl&gt; 270, 250, 240, 250, 260, 240, 240, 250, 260, 260, 260, 330,…
$ wind_speed &lt;dbl&gt; 10.35702, 8.05546, 11.50780, 12.65858, 12.65858, 11.50780, …
$ wind_gust  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.…
$ precip     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ pressure   &lt;dbl&gt; 1012.0, 1012.3, 1012.5, 1012.2, 1011.9, 1012.4, 1012.2, 101…
$ visib      &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,…
$ time_hour  &lt;dttm&gt; 2013-01-01 01:00:00, 2013-01-01 02:00:00, 2013-01-01 03:00…</code></pre>
</div>
</div>
</section>
<section id="getting-more-information" class="slide level2">
<h2>Getting more information</h2>
<p>If you want more information on a specific table, use the <code>?</code> operator. This will open the help file and describe all variables included in the data frame.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-28_5e1e3cdf2090d2558200aa3627449d6d">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>?flights</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a>?planes</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a>?airports</span>
<span id="cb35-6"><a href="#cb35-6"></a></span>
<span id="cb35-7"><a href="#cb35-7"></a>?airlines</span>
<span id="cb35-8"><a href="#cb35-8"></a></span>
<span id="cb35-9"><a href="#cb35-9"></a>?weather</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-filter-function" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<ul>
<li><p>The <code>filter()</code> allows you to select a subset of the rows of a data frame.</p></li>
<li><p>The first argument is the name of the data frame, and the second and subsequent are filtering expressions evaluated in the context of that data frame.</p></li>
</ul>

<img data-src="images/functions/filter.png" class="r-stretch"></section>
<section id="the-filter-function-1" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Example 1: select all flights with a tail number equal to “<strong>N14228</strong>”.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-29_1c8576c55d2c8a046a52e58d68c9b63f">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">filter</span>(flights, tailnum <span class="sc">==</span> <span class="st">"N14228"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 111 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      517        515       2     830     819      11 UA     
 2  2013     1     8     1435       1440      -5    1717    1746     -29 UA     
 3  2013     1     9      717        700      17     812     815      -3 UA     
 4  2013     1     9     1143       1144      -1    1425    1445     -20 UA     
 5  2013     1    13      835        824      11    1030     951      39 UA     
 6  2013     1    16     1829       1730      59    2117    2023      54 UA     
 7  2013     1    22     1902       1808      54    2214    2106      68 UA     
 8  2013     1    23     1050       1056      -6    1143    1208     -25 UA     
 9  2013     1    23     1533       1529       4    1641    1645      -4 UA     
10  2013     1    25      724        720       4    1000    1023     -23 UA     
# … with 101 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-filter-function-2" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Example 2: select all flights with a departure delay greater than 180 minutes.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-30_b2371a0d334e4ca336343d9d09cc203f">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">filter</span>(flights, dep_delay <span class="sc">&gt;</span> <span class="dv">180</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,893 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      848       1835     853    1001    1950     851 MQ     
 2  2013     1     1     1815       1325     290    2120    1542     338 EV     
 3  2013     1     1     1842       1422     260    1958    1535     263 EV     
 4  2013     1     1     2006       1630     216    2230    1848     222 EV     
 5  2013     1     1     2115       1700     255    2330    1920     250 9E     
 6  2013     1     1     2205       1720     285      46    2040     246 AA     
 7  2013     1     1     2312       2000     192      21    2110     191 EV     
 8  2013     1     1     2343       1724     379     314    1938     456 EV     
 9  2013     1     2     1244        900     224    1431    1104     207 EV     
10  2013     1     2     1332        904     268    1616    1128     288 EV     
# … with 3,883 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-filter-function-3" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Example 3: select all flights from <code>carriers</code> “<strong>MQ</strong>” or “<strong>EV</strong>”.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-31_b7d2d13d6c703c7d32a4effa1f70ae23">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">filter</span>(flights, carrier <span class="sc">==</span> <span class="st">"MQ"</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">"EV"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 80,570 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      557        600      -3     709     723     -14 EV     
 2  2013     1     1      600        600       0     837     825      12 MQ     
 3  2013     1     1      602        605      -3     821     805      16 MQ     
 4  2013     1     1      608        600       8     807     735      32 MQ     
 5  2013     1     1      624        630      -6     909     840      29 EV     
 6  2013     1     1      624        630      -6     840     830      10 MQ     
 7  2013     1     1      632        608      24     740     728      12 EV     
 8  2013     1     1      656        705      -9    1007     940      27 MQ     
 9  2013     1     1      749        710      39     939     850      49 MQ     
10  2013     1     1      800        810     -10     949     955      -6 MQ     
# … with 80,560 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-filter-function-4" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Another option using the <code>%in%</code> operator.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-32_231cc7906677b31f41bed9ca1f2bd83f">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">filter</span>(flights, carrier <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MQ"</span>, <span class="st">"EV"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 80,570 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      557        600      -3     709     723     -14 EV     
 2  2013     1     1      600        600       0     837     825      12 MQ     
 3  2013     1     1      602        605      -3     821     805      16 MQ     
 4  2013     1     1      608        600       8     807     735      32 MQ     
 5  2013     1     1      624        630      -6     909     840      29 EV     
 6  2013     1     1      624        630      -6     840     830      10 MQ     
 7  2013     1     1      632        608      24     740     728      12 EV     
 8  2013     1     1      656        705      -9    1007     940      27 MQ     
 9  2013     1     1      749        710      39     939     850      49 MQ     
10  2013     1     1      800        810     -10     949     955      -6 MQ     
# … with 80,560 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-filter-function-5" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Your turn: write code that uses the <code>flights</code> table and return all the flights with delayed departures between 100 and 200 minutes from the “<strong>FL</strong>” carrier.</p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-33_aecddc65ab19d2595bb8ddcb1ff7ce29">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">filter</span>(flights, dep_delay <span class="sc">&gt;=</span> <span class="dv">100</span> <span class="sc">&amp;</span> dep_delay <span class="sc">&lt;=</span> <span class="dv">200</span> <span class="sc">&amp;</span> carrier <span class="sc">==</span> <span class="st">"FL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 127 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1    27     1522       1308     134    1809    1542     147 FL     
 2  2013     1    30     2300       2030     150      23    2206     137 FL     
 3  2013    10     7     2132       1859     153    2339    2126     133 FL     
 4  2013    10     7     2240       2030     130    2356    2201     115 FL     
 5  2013    10    11     1946       1738     128    2156    2005     111 FL     
 6  2013    10    11     2144       1859     165    2344    2126     138 FL     
 7  2013    10    28      956        810     106    1217    1037     100 FL     
 8  2013    11    12     1937       1729     128    2221    1955     146 FL     
 9  2013    11    27     1901       1720     101    2144    1948     116 FL     
10  2013    12     5     2314       2033     161      38    2206     152 FL     
# … with 117 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</div>
</section>
<section id="the-arrange-function" class="slide level2">
<h2>The <code>arrange()</code> function</h2>
<ul>
<li><p><code>arrange()</code> reorders the rows of a data frame.</p></li>
<li><p>The function takes a data frame, and a set of column name(s) to order by.</p></li>
</ul>
</section>
<section id="the-arrange-function-1" class="slide level2">
<h2>The <code>arrange()</code> function</h2>
<p>Example 1: reorder flights on departure month.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-34_dd877d59fd3198dafb97fab283195bce">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">arrange</span>(flights, month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      517        515       2     830     819      11 UA     
 2  2013     1     1      533        529       4     850     830      20 UA     
 3  2013     1     1      542        540       2     923     850      33 AA     
 4  2013     1     1      544        545      -1    1004    1022     -18 B6     
 5  2013     1     1      554        600      -6     812     837     -25 DL     
 6  2013     1     1      554        558      -4     740     728      12 UA     
 7  2013     1     1      555        600      -5     913     854      19 B6     
 8  2013     1     1      557        600      -3     709     723     -14 EV     
 9  2013     1     1      557        600      -3     838     846      -8 B6     
10  2013     1     1      558        600      -2     753     745       8 AA     
# … with 336,766 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-arrange-function-2" class="slide level2">
<h2>The <code>arrange()</code> function</h2>
<p>Example 2: reorder flights on departure month and departure time.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-35_e7cf8b682fd0a75514ce569636724ab8">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">arrange</span>(flights, month, dep_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1    13        1       2249      72     108    2357      71 B6     
 2  2013     1    31        1       2100     181     124    2225     179 WN     
 3  2013     1     9        2       2359       3     432     444     -12 B6     
 4  2013     1    13        2       2359       3     502     444      18 B6     
 5  2013     1    16        2       2125     157     119    2250     149 MQ     
 6  2013     1    10        3       2359       4     426     437     -11 B6     
 7  2013     1    13        3       2030     213     340    2350     230 B6     
 8  2013     1    16        3       1946     257     212    2154     258 EV     
 9  2013     1    30        3       2159     124     100    2306     114 EV     
10  2013     1    31        4       2359       5     455     444      11 B6     
# … with 336,766 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-arrange-function-3" class="slide level2">
<h2>The <code>arrange()</code> function</h2>
<p>Example 3: reorder flights on departure month and by <strong>decreasing</strong> departure time.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-36_1764daaa29bc8162ddbe93232be708fa">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">arrange</span>(flights, month, <span class="fu">desc</span>(dep_time))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     7     2359       2359       0     506     437      29 B6     
 2  2013     1    12     2359       2359       0     429     437      -8 B6     
 3  2013     1    13     2359       2130     149     435     218     137 B6     
 4  2013     1    18     2359       2359       0     439     437       2 B6     
 5  2013     1    19     2359       2359       0     437     444      -7 B6     
 6  2013     1    25     2359       2359       0     500     444      16 B6     
 7  2013     1     4     2358       2359      -1     429     437      -8 B6     
 8  2013     1     4     2358       2359      -1     436     445      -9 B6     
 9  2013     1    13     2358       2045     193     233    2310     203 B6     
10  2013     1    16     2358       2359      -1     502     437      25 B6     
# … with 336,766 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="the-select-function" class="slide level2">
<h2>The <code>select()</code> function</h2>
<ul>
<li><p><code>select()</code> is used to extract column(s) from a data frame.</p></li>
<li><p>Useful when you want to perform data analysis on specific column(s) and not the complete dataset.</p></li>
</ul>
</section>
<section id="the-select-function-1" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>Example 1: select “<strong>faa</strong>” and “<strong>name</strong>” columns from the <code>airports</code> data frame.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-37_7a5b08442d494f26af57b8547faca11b">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">select</span>(airports, faa, name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,458 × 2
   faa   name                          
   &lt;chr&gt; &lt;chr&gt;                         
 1 04G   Lansdowne Airport             
 2 06A   Moton Field Municipal Airport 
 3 06C   Schaumburg Regional           
 4 06N   Randall Airport               
 5 09J   Jekyll Island Airport         
 6 0A9   Elizabethton Municipal Airport
 7 0G6   Williams County Airport       
 8 0G7   Finger Lakes Regional Airport 
 9 0P2   Shoestring Aviation Airfield  
10 0S9   Jefferson County Intl         
# … with 1,448 more rows</code></pre>
</div>
</div>
</section>
<section id="the-select-function-2" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>You can also use <code>select()</code> to remove columns with the <code>-</code> operator.</p>
<p>Example 2: select all columns from <code>airports</code> except “<strong>faa</strong>” and “<strong>name</strong>”.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-38_4b6411982ea7b014433b6a04e33c2e04">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">select</span>(airports, <span class="sc">-</span>faa, <span class="sc">-</span>name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,458 × 6
     lat    lon   alt    tz dst   tzone              
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;              
 1  41.1  -80.6  1044    -5 A     America/New_York   
 2  32.5  -85.7   264    -6 A     America/Chicago    
 3  42.0  -88.1   801    -6 A     America/Chicago    
 4  41.4  -74.4   523    -5 A     America/New_York   
 5  31.1  -81.4    11    -5 A     America/New_York   
 6  36.4  -82.2  1593    -5 A     America/New_York   
 7  41.5  -84.5   730    -5 A     America/New_York   
 8  42.9  -76.8   492    -5 A     America/New_York   
 9  39.8  -76.6  1000    -5 U     America/New_York   
10  48.1 -123.    108    -8 A     America/Los_Angeles
# … with 1,448 more rows</code></pre>
</div>
</div>
</section>
<section id="the-select-function-3" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>It is also possible to select columns using <strong>helper functions</strong>.</p>
<p>Example 3: select “<strong>year</strong>”, “<strong>month</strong>” and all columns that start with “<strong>dep_</strong>” from <code>flights</code>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-39_0d6c217630f48a92e0a73cacbeee6f5c">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">select</span>(flights, year, month, <span class="fu">starts_with</span>(<span class="st">"dep_"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 4
    year month dep_time dep_delay
   &lt;int&gt; &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;
 1  2013     1      517         2
 2  2013     1      533         4
 3  2013     1      542         2
 4  2013     1      544        -1
 5  2013     1      554        -6
 6  2013     1      554        -4
 7  2013     1      555        -5
 8  2013     1      557        -3
 9  2013     1      557        -3
10  2013     1      558        -2
# … with 336,766 more rows</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<ul>
<li><p>The <code>mutate()</code> function is used to add or modify existing column(s) inside a data frame.</p></li>
<li><p>The function takes a data frame, and one or more expressions that add/modify columns.</p></li>
</ul>
</section>
<section id="the-mutate-function-1" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>Example 1: add a new column named <code>distance_km</code> which converts the <code>distance</code> column, which is the flight distance in miles, into km.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-40_a590b17b633baa5e9c99de391945f065">
<div class="sourceCode cell-code" id="cb58" data-code-line-numbers="1-5|2|3|4|1-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">mutate</span>(</span>
<span id="cb58-2"><a href="#cb58-2"></a>  flights,</span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="at">distance_km =</span> distance <span class="sc">/</span> <span class="fl">0.62137</span>,</span>
<span id="cb58-4"><a href="#cb58-4"></a>  <span class="at">.keep =</span> <span class="st">"used"</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 2
   distance distance_km
      &lt;dbl&gt;       &lt;dbl&gt;
 1     1400     2253.1 
 2     1416     2278.8 
 3     1089     1752.6 
 4     1576     2536.3 
 5      762     1226.3 
 6      719     1157.1 
 7     1065     1714.0 
 8      229      368.54
 9      944     1519.2 
10      733     1179.7 
# … with 336,766 more rows</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-2" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>It is also possible to add many new variables in a single operation.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-41_40bc2c8535a8af21d365a4e7dd5c9ae4">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="3-4|1-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">mutate</span>(</span>
<span id="cb60-2"><a href="#cb60-2"></a>  flights,</span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="at">distance_km =</span> distance <span class="sc">/</span> <span class="fl">0.62137</span>,</span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="at">distance_knot =</span> distance <span class="sc">/</span> <span class="fl">1.15078</span>,</span>
<span id="cb60-5"><a href="#cb60-5"></a>  <span class="at">.keep =</span> <span class="st">"used"</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 3
   distance distance_km distance_knot
      &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
 1     1400       2253.         1217.
 2     1416       2279.         1230.
 3     1089       1753.          946.
 4     1576       2536.         1370.
 5      762       1226.          662.
 6      719       1157.          625.
 7     1065       1714.          925.
 8      229        369.          199.
 9      944       1519.          820.
10      733       1180.          637.
# … with 336,766 more rows</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-3" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>The <code>mutate()</code> function is very powerful as it allows to use of some <strong>helper functions</strong> to <strong>mutate multiple columns at once</strong>.</p>
<p>For the following examples, we will use the <code>weather</code> table.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-42_1b52dec4b9dd0f80e77c4ddcd735dd07">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>weather</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26,115 × 15
   origin  year month   day  hour  temp  dewp humid wind_dir wind_speed wind_g…¹
   &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;
 1 EWR     2013     1     1     1  39.0  26.1  59.4      270      10.4        NA
 2 EWR     2013     1     1     2  39.0  27.0  61.6      250       8.06       NA
 3 EWR     2013     1     1     3  39.0  28.0  64.4      240      11.5        NA
 4 EWR     2013     1     1     4  39.9  28.0  62.2      250      12.7        NA
 5 EWR     2013     1     1     5  39.0  28.0  64.4      260      12.7        NA
 6 EWR     2013     1     1     6  37.9  28.0  67.2      240      11.5        NA
 7 EWR     2013     1     1     7  39.0  28.0  64.4      240      15.0        NA
 8 EWR     2013     1     1     8  39.9  28.0  62.2      250      10.4        NA
 9 EWR     2013     1     1     9  39.9  28.0  62.2      260      15.0        NA
10 EWR     2013     1     1    10  41    28.0  59.6      260      13.8        NA
# … with 26,105 more rows, 4 more variables: precip &lt;dbl&gt;, pressure &lt;dbl&gt;,
#   visib &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable name ¹​wind_gust</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-4" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>Let’s say we want to <strong>round all the numerical columns</strong> of the <code>weather</code> data frame. It could be fastidious to do it manually for the 13 numerical columns.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-43_57bc5c2739953865e4949ac5882d8634">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">glimpse</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,115
Columns: 15
$ origin     &lt;chr&gt; "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EWR", "EW…
$ year       &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013,…
$ month      &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ day        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ hour       &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, …
$ temp       &lt;dbl&gt; 39.02, 39.02, 39.02, 39.92, 39.02, 37.94, 39.02, 39.92, 39.…
$ dewp       &lt;dbl&gt; 26.06, 26.96, 28.04, 28.04, 28.04, 28.04, 28.04, 28.04, 28.…
$ humid      &lt;dbl&gt; 59.37, 61.63, 64.43, 62.21, 64.43, 67.21, 64.43, 62.21, 62.…
$ wind_dir   &lt;dbl&gt; 270, 250, 240, 250, 260, 240, 240, 250, 260, 260, 260, 330,…
$ wind_speed &lt;dbl&gt; 10.35702, 8.05546, 11.50780, 12.65858, 12.65858, 11.50780, …
$ wind_gust  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.…
$ precip     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ pressure   &lt;dbl&gt; 1012.0, 1012.3, 1012.5, 1012.2, 1011.9, 1012.4, 1012.2, 101…
$ visib      &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,…
$ time_hour  &lt;dttm&gt; 2013-01-01 01:00:00, 2013-01-01 02:00:00, 2013-01-01 03:00…</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-5" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>Would require a lot of typing (<strong>and I am very lazy!</strong>):</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-44_632e0cd653624b8aded08a6f92962036">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">mutate</span>(</span>
<span id="cb66-2"><a href="#cb66-2"></a>  weather,</span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="at">year =</span> <span class="fu">round</span>(year),</span>
<span id="cb66-4"><a href="#cb66-4"></a>  <span class="at">month =</span> <span class="fu">round</span>(month),</span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="at">day =</span> <span class="fu">round</span>(day),</span>
<span id="cb66-6"><a href="#cb66-6"></a>  <span class="at">hour =</span> <span class="fu">round</span>(hour),</span>
<span id="cb66-7"><a href="#cb66-7"></a>  <span class="at">temp =</span> <span class="fu">round</span>(temp),</span>
<span id="cb66-8"><a href="#cb66-8"></a>  <span class="at">dewp =</span> <span class="fu">round</span>(dewp),</span>
<span id="cb66-9"><a href="#cb66-9"></a>  <span class="at">humid =</span> <span class="fu">round</span>(humid),</span>
<span id="cb66-10"><a href="#cb66-10"></a>  <span class="at">wind_dir =</span> <span class="fu">round</span>(wind_dir),</span>
<span id="cb66-11"><a href="#cb66-11"></a>  <span class="at">wind_speed =</span> <span class="fu">round</span>(wind_speed),</span>
<span id="cb66-12"><a href="#cb66-12"></a>  <span class="at">wind_gust =</span> <span class="fu">round</span>(wind_gust),</span>
<span id="cb66-13"><a href="#cb66-13"></a>  <span class="at">precip =</span> <span class="fu">round</span>(precip),</span>
<span id="cb66-14"><a href="#cb66-14"></a>  <span class="at">pressure =</span> <span class="fu">round</span>(pressure)</span>
<span id="cb66-15"><a href="#cb66-15"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-mutate-function-6" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<ul>
<li><p>One option, is to use the <code>across(cols, function_to_apply)</code> function.</p></li>
<li><p>The following code says:</p></li>
</ul>
<p><span class="text-outline">apply the <code>mean()</code> function to all the columns between <code>temp</code> and <code>pressure</code></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-45_d0d59f82109c799075eed7cb80165623">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">mutate</span>(weather, <span class="fu">across</span>(year<span class="sc">:</span>pressure, round), <span class="at">.keep =</span> <span class="st">"used"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26,115 × 12
    year month   day  hour  temp  dewp humid wind_dir wind_speed wind_g…¹ precip
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1  2013     1     1     1    39    26    59      270         10       NA      0
 2  2013     1     1     2    39    27    62      250          8       NA      0
 3  2013     1     1     3    39    28    64      240         12       NA      0
 4  2013     1     1     4    40    28    62      250         13       NA      0
 5  2013     1     1     5    39    28    64      260         13       NA      0
 6  2013     1     1     6    38    28    67      240         12       NA      0
 7  2013     1     1     7    39    28    64      240         15       NA      0
 8  2013     1     1     8    40    28    62      250         10       NA      0
 9  2013     1     1     9    40    28    62      260         15       NA      0
10  2013     1     1    10    41    28    60      260         14       NA      0
# … with 26,105 more rows, 1 more variable: pressure &lt;dbl&gt;, and abbreviated
#   variable name ¹​wind_gust</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-7" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<ul>
<li><p>Another option is to use a combination of <code>across()</code> and <code>where()</code> functions.</p></li>
<li><p>The following code says:</p></li>
</ul>
<p><span class="text-outline">apply the <code>mean()</code> function to <strong>all the numerical columns</strong></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-46_e5f0ae0c1b9cf6408b0cba1daca1ad9e">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="fu">mutate</span>(weather, <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), round), <span class="at">.keep =</span> <span class="st">"used"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26,115 × 13
    year month   day  hour  temp  dewp humid wind_dir wind_speed wind_g…¹ precip
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1  2013     1     1     1    39    26    59      270         10       NA      0
 2  2013     1     1     2    39    27    62      250          8       NA      0
 3  2013     1     1     3    39    28    64      240         12       NA      0
 4  2013     1     1     4    40    28    62      250         13       NA      0
 5  2013     1     1     5    39    28    64      260         13       NA      0
 6  2013     1     1     6    38    28    67      240         12       NA      0
 7  2013     1     1     7    39    28    64      240         15       NA      0
 8  2013     1     1     8    40    28    62      250         10       NA      0
 9  2013     1     1     9    40    28    62      260         15       NA      0
10  2013     1     1    10    41    28    60      260         14       NA      0
# … with 26,105 more rows, 2 more variables: pressure &lt;dbl&gt;, visib &lt;dbl&gt;, and
#   abbreviated variable name ¹​wind_gust</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<ul>
<li><p>The <code>summarise()</code> function allows summarising columns from a data frame.</p></li>
<li><p>Compress a data frame into single values (i.e.&nbsp;one row).</p>
<ul>
<li>Hence, you have to provide a function that will be used to calculate a certain value.</li>
</ul></li>
</ul>
</section>
<section id="the-summarise-function-1" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<p>Example 1: Calculate the mean/average values for the <code>dep_delay</code> and <code>arr_delay</code> columns.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-47_378e333d6771b30c80654a7d06443c45">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="fu">summarise</span>(</span>
<span id="cb71-2"><a href="#cb71-2"></a>  flights,</span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay),</span>
<span id="cb71-4"><a href="#cb71-4"></a>  <span class="at">average_arrival_delay =</span> <span class="fu">mean</span>(arr_delay)</span>
<span id="cb71-5"><a href="#cb71-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  average_departure_delay average_arrival_delay
                    &lt;dbl&gt;                 &lt;dbl&gt;
1                      NA                    NA</code></pre>
</div>
</div>
<div class="fragment">
<p>What is going on? Why do we have NA’s?</p>
</div>
</section>
<section id="the-summarise-function-2" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<p>Example 1: Calculate the mean/average values for the <code>dep_delay</code> and <code>arr_delay</code> columns.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-48_43830e13e5f543a0bdfd07b9081143e8">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="fu">summarise</span>(</span>
<span id="cb73-2"><a href="#cb73-2"></a>  flights,</span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="at">average_arrival_delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-5"><a href="#cb73-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  average_departure_delay average_arrival_delay
                    &lt;dbl&gt;                 &lt;dbl&gt;
1                    12.6                  6.90</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function-3" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<ul>
<li>It could be interesting to know how many observations were used in the computation.</li>
<li>For this, we can use the <code>n()</code> helper function.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-49_57b16a9d4ff8b03af879295a6f19d26a">
<div class="sourceCode cell-code" id="cb75" data-code-line-numbers="1-6|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">summarise</span>(</span>
<span id="cb75-2"><a href="#cb75-2"></a>  flights,</span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-4"><a href="#cb75-4"></a>  <span class="at">average_arrival_delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb75-5"><a href="#cb75-5"></a>  <span class="at">n =</span> <span class="fu">n</span>() <span class="co"># Adding a new column "n" with the number of used observations</span></span>
<span id="cb75-6"><a href="#cb75-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  average_departure_delay average_arrival_delay      n
                    &lt;dbl&gt;                 &lt;dbl&gt;  &lt;int&gt;
1                    12.6                  6.90 336776</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function-4" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<ul>
<li>Similarly as with <code>mutate()</code>, we can use the <code>across()</code> function to avoid extra typing.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-50_91c2cb7cb6452c61be0449d81f29cd88">
<div class="sourceCode cell-code" id="cb77" data-code-line-numbers="1-5|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">summarise</span>(</span>
<span id="cb77-2"><a href="#cb77-2"></a>  weather,</span>
<span id="cb77-3"><a href="#cb77-3"></a>  <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb77-5"><a href="#cb77-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 14
   year  month    day   hour   temp   dewp  humid wind_dir wind_speed wind_gust
  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1  2013 6.5037 15.675 11.491 55.260 41.440 62.530   199.76     10.517    25.487
# … with 4 more variables: precip &lt;dbl&gt;, pressure &lt;dbl&gt;, visib &lt;dbl&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="working-with-grouped-data" class="slide level2">
<h2>Working with grouped data</h2>
<ul>
<li>Alone, the <code>summarise()</code> function is not helpful because it collapses a data frame to a single row.</li>
<li>Usually, we want to work on <strong>grouped data</strong>.</li>
<li><code>group_by()</code> “prepares” a data frame to send it to the <code>summarise()</code> function.</li>
</ul>
</section>
<section id="working-with-grouped-data-1" class="slide level2">
<h2>Working with grouped data</h2>
<p>Example 1: Calculate the average departure delay <strong>by carrier</strong>.</p>
<p>First, let’s group the data by <code>carrier</code>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-51_4f3ece10b5f647d29199e5eb226a2c35">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>flights_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(flights, carrier)</span>
<span id="cb79-2"><a href="#cb79-2"></a>flights_grouped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
# Groups:   carrier [16]
    year month   day dep_time sched_de…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1  2013     1     1      517        515       2     830     819      11 UA     
 2  2013     1     1      533        529       4     850     830      20 UA     
 3  2013     1     1      542        540       2     923     850      33 AA     
 4  2013     1     1      544        545      -1    1004    1022     -18 B6     
 5  2013     1     1      554        600      -6     812     837     -25 DL     
 6  2013     1     1      554        558      -4     740     728      12 UA     
 7  2013     1     1      555        600      -5     913     854      19 B6     
 8  2013     1     1      557        600      -3     709     723     -14 EV     
 9  2013     1     1      557        600      -3     838     846      -8 B6     
10  2013     1     1      558        600      -2     753     745       8 AA     
# … with 336,766 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="working-with-grouped-data-2" class="slide level2">
<h2>Working with grouped data</h2>
<p>Example 1: Calculate the average departure delay <strong>by carrier</strong>.</p>
<p>Secondly, use <code>summarise()</code> as we did before by now using <code>flights_grouped</code> instead of <code>flights</code>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-52_a74b5e4349d77c62e63ac50fddb67b67">
<div class="sourceCode cell-code" id="cb81" data-code-line-numbers="1-5|2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="fu">summarise</span>(</span>
<span id="cb81-2"><a href="#cb81-2"></a>  flights_grouped,</span>
<span id="cb81-3"><a href="#cb81-3"></a>  <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb81-4"><a href="#cb81-4"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb81-5"><a href="#cb81-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="working-with-grouped-data-2-output" class="slide level2 output-location-slide"><h2>Working with grouped data</h2><div class="cell output-location-slide" data-hash="index_cache/revealjs/unnamed-chunk-52_a74b5e4349d77c62e63ac50fddb67b67">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
   carrier average_departure_delay     n
   &lt;chr&gt;                     &lt;dbl&gt; &lt;int&gt;
 1 9E                        16.7  18460
 2 AA                         8.59 32729
 3 AS                         5.80   714
 4 B6                        13.0  54635
 5 DL                         9.26 48110
 6 EV                        20.0  54173
 7 F9                        20.2    685
 8 FL                        18.7   3260
 9 HA                         4.90   342
10 MQ                        10.6  26397
11 OO                        12.6     32
12 UA                        12.1  58665
13 US                         3.78 20536
14 VX                        12.9   5162
15 WN                        17.7  12275
16 YV                        19.0    601</code></pre>
</div>
</div></section><section id="working-with-grouped-data-3" class="slide level2">
<h2>Working with grouped data</h2>
<ul>
<li>We can also <code>summarise()</code> multiple columns at once.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-53_e35596d044a879e58d37cfbbafa76c16">
<div class="sourceCode cell-code" id="cb83" data-code-line-numbers="1-5|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">summarise</span>(</span>
<span id="cb83-2"><a href="#cb83-2"></a>  flights_grouped,</span>
<span id="cb83-3"><a href="#cb83-3"></a>  <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb83-4"><a href="#cb83-4"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb83-5"><a href="#cb83-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-54_ba1b8ea2fe9ba17fa1e1b32776357922">

</div>
</section>
<section id="working-with-grouped-data-3-output" class="slide level2 output-location-slide"><h2>Working with grouped data</h2><div class="cell output-location-slide" data-hash="index_cache/revealjs/unnamed-chunk-53_e35596d044a879e58d37cfbbafa76c16">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 16
   carrier  year  month    day dep_time sched…¹ dep_d…² arr_t…³ sched…⁴ arr_de…⁵
   &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1 9E       2013 6.5647 15.626  1486.5  1471.9  16.726   1639.0  1671.2  7.3797 
 2 AA       2013 6.4817 15.694  1297.3  1289.9   8.5860  1521.4  1545.1  0.36429
 3 AS       2013 6.4146 15.793  1294.6  1284.5   5.8048  1564.9  1595.3 -9.9309 
 4 B6       2013 6.5239 15.764  1380.8  1397.2  13.023   1405.7  1469.4  9.4580 
 5 DL       2013 6.5748 15.772  1351.1  1346.4   9.2645  1572.9  1595.9  1.6443 
 6 EV       2013 6.5813 15.683  1368.6  1353.5  19.955   1488.1  1531.6 15.796  
 7 F9       2013 6.5942 15.616  1437.8  1407.8  20.216   1672.5  1645.6 21.921  
 8 FL       2013 6.0206 15.681  1386.5  1371.7  18.726   1574.0  1585.0 20.116  
 9 HA       2013 6.2749 15.737   948.76  974.39  4.9006  1474.2  1491.5 -6.9152 
10 MQ       2013 6.4707 15.689  1392.6  1386.8  10.552   1550.8  1564.2 10.775  
11 OO       2013 8.75   16.344  1725.2  1731.3  12.586   1913.2  1889.9 11.931  
12 UA       2013 6.5618 15.704  1327.1  1312.7  12.106   1508.7  1544.2  3.5580 
13 US       2013 6.5516 15.656  1231.3  1246.1   3.7824  1401.6  1411.7  2.1296 
14 VX       2013 6.9345 15.737  1280.5  1264.7  12.869   1523.3  1596.3  1.7645 
15 WN       2013 6.6305 15.692  1281.0  1260.2  17.712   1443.4  1450.4  9.6491 
16 YV       2013 6.9068 15.755  1601.0  1574.5  18.996   1761.3  1743.4 15.557  
# … with 6 more variables: flight &lt;dbl&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, n &lt;int&gt;, and abbreviated variable names
#   ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time, ⁵​arr_delay</code></pre>
</div>
</div></section><section id="working-with-grouped-data-4" class="slide level2">
<h2>Working with grouped data</h2>
<div class="callout callout-caution callout-captioned callout-style-simple">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>New in <code>dplyr</code> 1.1.0</strong></p>
</div>
<div class="callout-content">
<p><code>.by/by</code> is an experimental alternative to <code>group_by()</code> that supports per-operation grouping for <code>mutate()</code>, <code>summarise()</code>, <code>filter()</code>, and the <code>slice()</code> family.</p>
</div>
</div>
</div>
<p><span class="small">We want to calculate the average <code>height</code> for each combination of <code>species</code> and <code>homeworld</code> in the <code>starwars</code> data frame.</span></p>
<div class="columns small">
<div class="column" style="width:55%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-55_2c3e5abe3be68352bea3eb2aff3ed523">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>starwars_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(starwars, species, homeworld)</span>
<span id="cb85-2"><a href="#cb85-2"></a><span class="fu">summarise</span>(</span>
<span id="cb85-3"><a href="#cb85-3"></a>  starwars_grouped,</span>
<span id="cb85-4"><a href="#cb85-4"></a>  <span class="at">mean_height =</span> <span class="fu">mean</span>(height)</span>
<span id="cb85-5"><a href="#cb85-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58 × 3
# Groups:   species [38]
   species  homeworld   mean_height
   &lt;chr&gt;    &lt;chr&gt;             &lt;dbl&gt;
 1 Aleena   Aleen Minor          79
 2 Besalisk Ojom                198
 3 Cerean   Cerea               198
 4 Chagrian Champala            196
 5 Clawdite Zolan               168
 6 Droid    Naboo                96
 7 Droid    Tatooine            132
 8 Droid    &lt;NA&gt;                 NA
 9 Dug      Malastare           112
10 Ewok     Endor                88
# … with 48 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:45%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-56_df6d5429c7c19fb5759dca9c5b4a41da">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">summarise</span>(</span>
<span id="cb87-2"><a href="#cb87-2"></a>  starwars,</span>
<span id="cb87-3"><a href="#cb87-3"></a>  <span class="at">mean_height =</span> <span class="fu">mean</span>(height),</span>
<span id="cb87-4"><a href="#cb87-4"></a>  <span class="at">.by =</span> <span class="fu">c</span>(species, homeworld)</span>
<span id="cb87-5"><a href="#cb87-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58 × 3
   species homeworld mean_height
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;
 1 Human   Tatooine       179.25
 2 Droid   Tatooine       132   
 3 Droid   Naboo           96   
 4 Human   Alderaan       176.33
 5 Human   Stewjon        182   
 6 Human   Eriadu         180   
 7 Wookiee Kashyyyk       231   
 8 Human   Corellia       175   
 9 Rodian  Rodia          173   
10 Hutt    Nal Hutta      175   
# … with 48 more rows</code></pre>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="exercises" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Exercises</h1>

</section>
<section id="the-titanic" class="slide level2">
<h2>The Titanic</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-57_8679e311915358f6458723f1031f6af9">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>titanic <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bit.ly/3xrnh3U"</span>)</span>
<span id="cb89-2"><a href="#cb89-2"></a><span class="fu">glimpse</span>(titanic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,309
Columns: 9
$ pclass      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ sex         &lt;chr&gt; "female", "male", "female", "male", "female", "male", "fem…
$ age         &lt;dbl&gt; 29.00, 0.92, 2.00, 30.00, 25.00, 48.00, 63.00, 39.00, 53.0…
$ family_size &lt;dbl&gt; 0, 3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0…
$ ticket      &lt;chr&gt; "24160", "113781", "113781", "113781", "113781", "19952", …
$ fare        &lt;dbl&gt; 211.3375, 151.5500, 151.5500, 151.5500, 151.5500, 26.5500,…
$ cabin       &lt;chr&gt; "B5", "C22 C26", "C22 C26", "C22 C26", "C22 C26", "E12", "…
$ embarked    &lt;chr&gt; "S", "S", "S", "S", "S", "S", "S", "S", "S", "C", "C", "C"…
$ survived    &lt;dbl&gt; 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0…</code></pre>
</div>
</div>
</section>
<section id="the-titanic-1" class="slide level2">
<h2>The Titanic</h2>
<p>Using your newly acquired skills, try answering the following questions:</p>
<ol type="1">
<li>What was the average age of passengers on the Titanic?</li>
<li>How many passengers on the Titanic were from first class?</li>
<li>What was the proportion of passengers who survived the Titanic disaster?</li>
<li>What was the average ticket price by cabin class?</li>
</ol>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-58_80cc99ccd03bfafb6778539522290d41">

</div>
</section></section>
<section>
<section id="piping-operations" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Piping operations</h1>

<img data-src="images/unsplash_pipe.jpg" class="r-stretch quarto-figure-center"><p class="caption">Photo by <a href="https://unsplash.com/@tival?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Val Tievsky</a> on <a href="https://unsplash.com/photos/fzmyw3mgVA0?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p></section>
<section id="piping-operations-1" class="slide level2">
<h2>Piping operations</h2>
<p>We have seen that to summarise grouped data, we need to perform two operations:</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-59_dbefaca130ada2f1130a6b8b250d265d">
<div class="sourceCode cell-code" id="cb91" data-code-line-numbers="1-7|1|3-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>flights_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(flights, carrier)</span>
<span id="cb91-2"><a href="#cb91-2"></a></span>
<span id="cb91-3"><a href="#cb91-3"></a>res <span class="ot">&lt;-</span> <span class="fu">summarise</span>(</span>
<span id="cb91-4"><a href="#cb91-4"></a>  flights_grouped,</span>
<span id="cb91-5"><a href="#cb91-5"></a>  <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb91-6"><a href="#cb91-6"></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb91-7"><a href="#cb91-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The thing is that we never directly use <code>flights_grouped</code>; it is only used as an <strong>intermediate</strong> object.</p>
</section>
<section id="piping-operations-2" class="slide level2">
<h2>Piping operations</h2>
<ul>
<li><p>With R 4.1.0+, we can use the pipe operator (<span style="font-family:ubuntu;"><strong>|&gt;</strong></span>) to chain operations.</p></li>
<li><p>Basically, (<span style="font-family:ubuntu;"><strong>|&gt;</strong></span>) takes the left-hand side (<strong>lhs</strong>) object and passes it as the first argument in the right-hand side (<strong>rhs</strong>) function.</p></li>
</ul>
<div class="columns fragment">
<div class="column" style="width:28%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-60_f10be5dee28a39051d12d845a7cf41b7">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="co"># Same as log(10)</span></span>
<span id="cb92-2"><a href="#cb92-2"></a><span class="dv">10</span> <span class="sc">|&gt;</span> <span class="fu">log</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.302585</code></pre>
</div>
</div>
</div><div class="column" style="width:38%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-61_4b3dd5e1fd0d5c5e505c47da9f36e75c">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="co"># Same has:</span></span>
<span id="cb94-2"><a href="#cb94-2"></a><span class="co"># toupper("my string")</span></span>
<span id="cb94-3"><a href="#cb94-3"></a><span class="st">"my string"</span> <span class="sc">|&gt;</span> <span class="fu">toupper</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "MY STRING"</code></pre>
</div>
</div>
</div><div class="column" style="width:34%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-62_3c0320b3e01434f0267007c6263ec67d">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="co"># Same has:</span></span>
<span id="cb96-2"><a href="#cb96-2"></a><span class="co"># head(chickwts), 6)</span></span>
<span id="cb96-3"><a href="#cb96-3"></a>chickwts <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  weight      feed
1    179 horsebean
2    160 horsebean
3    136 horsebean
4    227 horsebean
5    217 horsebean
6    168 horsebean</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="piping-operations-3" class="slide level2">
<h2>Piping operations</h2>
<ul>
<li><p>Why is this useful? Because we can chain intermediate steps in data analysis.</p></li>
<li><p>For example:</p>
<ol type="1">
<li>Take <code>flights</code> and pass it as the first argument in <code>group_by()</code>.</li>
<li>Group the data based on the <code>carrier</code> column.</li>
<li>Summarise the data to calculate the average departure delay.</li>
</ol></li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-63_b2c57777c58aa96d50cb1b70a00976da">
<div class="sourceCode cell-code" id="cb98" data-code-line-numbers="|1|2|3-6|1-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>flights <span class="sc">|&gt;</span> <span class="co"># Take the flight data frame</span></span>
<span id="cb98-2"><a href="#cb98-2"></a>  <span class="fu">group_by</span>(carrier) <span class="sc">|&gt;</span> <span class="co"># Then group it by carrier</span></span>
<span id="cb98-3"><a href="#cb98-3"></a>  <span class="fu">summarise</span>( <span class="co"># Then calculate the average departure delay (by group)</span></span>
<span id="cb98-4"><a href="#cb98-4"></a>    <span class="at">average_departure_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb98-5"><a href="#cb98-5"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb98-6"><a href="#cb98-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="piping-operations-3-output" class="slide level2 output-location-slide"><h2>Piping operations</h2><div class="cell output-location-slide" data-hash="index_cache/revealjs/unnamed-chunk-63_b2c57777c58aa96d50cb1b70a00976da">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
   carrier average_departure_delay     n
   &lt;chr&gt;                     &lt;dbl&gt; &lt;int&gt;
 1 9E                        16.7  18460
 2 AA                         8.59 32729
 3 AS                         5.80   714
 4 B6                        13.0  54635
 5 DL                         9.26 48110
 6 EV                        20.0  54173
 7 F9                        20.2    685
 8 FL                        18.7   3260
 9 HA                         4.90   342
10 MQ                        10.6  26397
11 OO                        12.6     32
12 UA                        12.1  58665
13 US                         3.78 20536
14 VX                        12.9   5162
15 WN                        17.7  12275
16 YV                        19.0    601</code></pre>
</div>
</div></section><section id="piping-operations-4" class="slide level2">
<h2>Piping operations</h2>
<ul>
<li><p>By default, the pipe operator passes the <strong>lhs</strong> object as the first parameter in the <strong>rhs</strong> function. We can control this behaviour using the “<strong>_</strong>” placeholder.</p></li>
<li><p>For example, <code>rnorm(n, mean = 0, sd = 1)</code> has three arguments.</p></li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-64_95305666b0949311e4402a04481ce145">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a><span class="dv">10</span> <span class="sc">|&gt;</span> <span class="fu">rnorm</span>() <span class="co"># Same as rnorm(n = 10, mean = 0, sd = 1)</span></span>
<span id="cb100-2"><a href="#cb100-2"></a><span class="dv">10</span> <span class="sc">|&gt;</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="at">mean =</span> _) <span class="co"># Same as rnorm(5, mean = 10, sd = 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Attention!!!</strong></p>
</div>
<div class="callout-content">
<p>You have to use the placeholder with named parameters.</p>
</div>
</div>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-65_df81939699ea8d7594c2f86e49012bbd">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="dv">10</span>  <span class="sc">|&gt;</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, _) <span class="co"># Not good!</span></span>
<span id="cb101-2"><a href="#cb101-2"></a><span class="dv">10</span> <span class="sc">|&gt;</span> <span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="at">mean =</span> _) <span class="co"># Good!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section>
<section>
<section id="joining-tables" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Joining tables</h1>

</section>
<section id="joining-tables-1" class="slide level2">
<h2>Joining tables</h2>
<ul>
<li><p>Data are rarely stored in a single data frame or a single file.</p></li>
<li><p>Good database practices recommend having similar data in separate tables.</p></li>
<li><p>Joins are used to <strong>merge data frame</strong> together.</p></li>
</ul>
</section>
<section id="understanding-joins" class="slide level2">
<h2>Understanding joins</h2>
<figure>
<center>
<img src="images/join_types.svg" alt="Trulli" style="width:65%">
<figcaption>
Types of equality and filtering joins
</figcaption>
</center>
</figure>
</section>
<section id="understanding-joins-1" class="slide level2">
<h2>Understanding joins</h2>
<p>Suppose that we have two data frames: <code>sites</code> and <code>measurements</code>.</p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-66_ab743a85773088d22a264558d508e5f1">
<div class="cell-output-display">

<div id="mmhyravhjl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#mmhyravhjl) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: rgba(255, 255, 255, 0);
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_heading {
  background-color: rgba(255, 255, 255, 0);
  text-align: center;
  border-bottom-color: rgba(255, 255, 255, 0);
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#mmhyravhjl) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: rgba(255, 255, 255, 0);
  border-bottom-width: 0;
}

:where(#mmhyravhjl) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: rgba(255, 255, 255, 0);
  border-top-width: 0;
}

:where(#mmhyravhjl) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_col_heading {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#mmhyravhjl) .gt_column_spanner_outer {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#mmhyravhjl) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#mmhyravhjl) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#mmhyravhjl) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#mmhyravhjl) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#mmhyravhjl) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#mmhyravhjl) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#mmhyravhjl) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#mmhyravhjl) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#mmhyravhjl) .gt_stub {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mmhyravhjl) .gt_stub_row_group {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#mmhyravhjl) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#mmhyravhjl) .gt_summary_row {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mmhyravhjl) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#mmhyravhjl) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_grand_summary_row {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mmhyravhjl) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#mmhyravhjl) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_footnotes {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mmhyravhjl) .gt_sourcenotes {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#mmhyravhjl) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mmhyravhjl) .gt_left {
  text-align: left;
}

:where(#mmhyravhjl) .gt_center {
  text-align: center;
}

:where(#mmhyravhjl) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#mmhyravhjl) .gt_font_normal {
  font-weight: normal;
}

:where(#mmhyravhjl) .gt_font_bold {
  font-weight: bold;
}

:where(#mmhyravhjl) .gt_font_italic {
  font-style: italic;
}

:where(#mmhyravhjl) .gt_super {
  font-size: 65%;
}

:where(#mmhyravhjl) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#mmhyravhjl) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#mmhyravhjl) .gt_indent_1 {
  text-indent: 5px;
}

:where(#mmhyravhjl) .gt_indent_2 {
  text-indent: 10px;
}

:where(#mmhyravhjl) .gt_indent_3 {
  text-indent: 15px;
}

:where(#mmhyravhjl) .gt_indent_4 {
  text-indent: 20px;
}

:where(#mmhyravhjl) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">The <strong>sites</strong> table contains information where about sampling locations</td>
    </tr>
    
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="site_id">site_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="latitude">latitude</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="longitude">longitude</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="site_id" class="gt_row gt_left">Site A</td>
<td headers="latitude" class="gt_row gt_right">45.5231</td>
<td headers="longitude" class="gt_row gt_right">-122.6765</td></tr>
    <tr><td headers="site_id" class="gt_row gt_left">Site B</td>
<td headers="latitude" class="gt_row gt_right">46.1234</td>
<td headers="longitude" class="gt_row gt_right">-123.4567</td></tr>
    <tr><td headers="site_id" class="gt_row gt_left">Site C</td>
<td headers="latitude" class="gt_row gt_right">47.3456</td>
<td headers="longitude" class="gt_row gt_right">-124.5678</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-67_0c0b14fa193b6d41c9b086e575936117">
<div class="cell-output-display">

<div id="wofvmozlsz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#wofvmozlsz) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: rgba(255, 255, 255, 0);
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_heading {
  background-color: rgba(255, 255, 255, 0);
  text-align: center;
  border-bottom-color: rgba(255, 255, 255, 0);
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#wofvmozlsz) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: rgba(255, 255, 255, 0);
  border-bottom-width: 0;
}

:where(#wofvmozlsz) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: rgba(255, 255, 255, 0);
  border-top-width: 0;
}

:where(#wofvmozlsz) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_col_heading {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#wofvmozlsz) .gt_column_spanner_outer {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#wofvmozlsz) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#wofvmozlsz) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#wofvmozlsz) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#wofvmozlsz) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#wofvmozlsz) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#wofvmozlsz) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#wofvmozlsz) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#wofvmozlsz) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#wofvmozlsz) .gt_stub {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wofvmozlsz) .gt_stub_row_group {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#wofvmozlsz) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#wofvmozlsz) .gt_summary_row {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wofvmozlsz) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#wofvmozlsz) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_grand_summary_row {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wofvmozlsz) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#wofvmozlsz) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_footnotes {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wofvmozlsz) .gt_sourcenotes {
  color: #333333;
  background-color: rgba(255, 255, 255, 0);
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wofvmozlsz) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wofvmozlsz) .gt_left {
  text-align: left;
}

:where(#wofvmozlsz) .gt_center {
  text-align: center;
}

:where(#wofvmozlsz) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#wofvmozlsz) .gt_font_normal {
  font-weight: normal;
}

:where(#wofvmozlsz) .gt_font_bold {
  font-weight: bold;
}

:where(#wofvmozlsz) .gt_font_italic {
  font-style: italic;
}

:where(#wofvmozlsz) .gt_super {
  font-size: 65%;
}

:where(#wofvmozlsz) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#wofvmozlsz) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#wofvmozlsz) .gt_indent_1 {
  text-indent: 5px;
}

:where(#wofvmozlsz) .gt_indent_2 {
  text-indent: 10px;
}

:where(#wofvmozlsz) .gt_indent_3 {
  text-indent: 15px;
}

:where(#wofvmozlsz) .gt_indent_4 {
  text-indent: 20px;
}

:where(#wofvmozlsz) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">The <strong>measurements</strong> table contains temperature measurements</td>
    </tr>
    
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="site_name">site_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="temperature">temperature</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="date">date</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="site_name" class="gt_row gt_left">Site A</td>
<td headers="temperature" class="gt_row gt_right">20.5</td>
<td headers="date" class="gt_row gt_right">2020-01-01</td></tr>
    <tr><td headers="site_name" class="gt_row gt_left">Site A</td>
<td headers="temperature" class="gt_row gt_right">21.3</td>
<td headers="date" class="gt_row gt_right">2020-01-02</td></tr>
    <tr><td headers="site_name" class="gt_row gt_left">Site B</td>
<td headers="temperature" class="gt_row gt_right">18.9</td>
<td headers="date" class="gt_row gt_right">2020-02-01</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<div class="cell" data-hash="index_cache/revealjs/export-join-tables_1e75894fd29d88e99885c3460b8cf9ea">

</div>
</div>
</section>
<section id="understanding-joins-2" class="slide level2">
<h2>Understanding joins</h2>
<p>If you want to follow along, you can read the toy data as this:</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-69_0b3f47b7c224ffecbc26e99e419d7294">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>sites <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bit.ly/3xAwqr1"</span>)</span>
<span id="cb102-2"><a href="#cb102-2"></a>measurements <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bit.ly/3Sepl9a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-70_66aa5cb89db9906081dc2c496bdb92ee">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>sites</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</section>
<section id="left-joins" class="slide level2">
<h2>Left joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>sites</span>
<span id="cb107-2"><a href="#cb107-2"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-71_97d715202f2e2462629c7e4916779e96">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If we try to join <code>sites</code> and <code>measurements</code> together, we get the following error.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-72_47530c247ca69a9e59dc02c1587d39e5">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">left_join</span>(sites, measurements)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `left_join()`:
! `by` must be supplied when `x` and `y` have no common variables.
ℹ Use `cross_join()` to perform a cross-join.</code></pre>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Good practice</strong></p>
</div>
<div class="callout-content">
<p>The <code>*_join()</code> family functions will try to automatically join tables using columns with the same names. However, it is of good practice to be explicit on which columns to use with the <code>by</code> argument.</p>
</div>
</div>
</div>
</div>
</section>
<section id="left-joins-1" class="slide level2">
<h2>Left joins</h2>
<ul>
<li><p>We can specify the columns to use for the join with the <code>by</code> argument.</p></li>
<li><p>The following code says:</p></li>
</ul>
<p><span class="text-outline">Use the <code>site_id</code> column in <code>sites</code></span> <span class="text-outline">and the <code>site_name</code> column in <code>measurements</code></span> to join both tables together.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-73_0b8b898c90b0a3b5c010ab4de49dd410">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="fu">left_join</span>(sites, measurements, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"site_id"</span> <span class="ot">=</span> <span class="st">"site_name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
  site_id latitude longitude temperature date      
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;    
1 Site A      45.5     -123.        20.5 2020-01-01
2 Site A      45.5     -123.        21.3 2020-01-02
3 Site B      46.1     -123.        18.9 2020-02-01
4 Site C      47.3     -125.        NA   NA        </code></pre>
</div>
</div>
</section>
<section id="inner-joins" class="slide level2">
<h2>Inner joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>sites</span>
<span id="cb114-2"><a href="#cb114-2"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-74_cb4e808f840c6f281aef898a284533df">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>An <code>inner_join()</code> <span class="text-outline">keeps only the observations that match between the tables.</span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-75_5d656067523c1c80106796728916260b">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">inner_join</span>(sites, measurements, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"site_id"</span> <span class="ot">=</span> <span class="st">"site_name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  site_id latitude longitude temperature date      
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;    
1 Site A      45.5     -123.        20.5 2020-01-01
2 Site A      45.5     -123.        21.3 2020-01-02
3 Site B      46.1     -123.        18.9 2020-02-01</code></pre>
</div>
</div>
</section>
<section id="full-joins" class="slide level2">
<h2>Full joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>sites</span>
<span id="cb119-2"><a href="#cb119-2"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-76_17347aa522ed3899f293f1508189faa8">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>A <code>full_join()</code> <span class="text-outline">keeps all the observations contained in the tables.</span> <code>NA</code> will be used as a fill value when there are no matches.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-77_fe4e5a3c665137f6364c7bc809c5f5d2">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="fu">full_join</span>(sites, measurements, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"site_id"</span> <span class="ot">=</span> <span class="st">"site_name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
  site_id latitude longitude temperature date      
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;    
1 Site A      45.5     -123.        20.5 2020-01-01
2 Site A      45.5     -123.        21.3 2020-01-02
3 Site B      46.1     -123.        18.9 2020-02-01
4 Site C      47.3     -125.        NA   NA        </code></pre>
</div>
</div>
</section>
<section id="anti-joins" class="slide level2">
<h2>Anti joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a>sites</span>
<span id="cb124-2"><a href="#cb124-2"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-78_2ff2b88bd800d2d7d9fca9f5e756b3bd">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>An <code>anti-join()</code> find all observations that have no match between tables. The next bloc of code says:</p>
<p><span class="text-outline">find all observations in <code>sites</code> that have no match in <code>measurements</code></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-79_2a7ff0c2374f93b345904204c26d08ca">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a><span class="fu">anti_join</span>(sites, measurements, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"site_id"</span> <span class="ot">=</span> <span class="st">"site_name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site C      47.3     -125.</code></pre>
</div>
</div>
</section>
<section id="anti-joins-1" class="slide level2">
<h2>Anti joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>sites</span>
<span id="cb129-2"><a href="#cb129-2"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-80_2dfe41311158b8dc3dc9f93a77240a6f">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_id latitude longitude
  &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Site A      45.5     -123.
2 Site B      46.1     -123.
3 Site C      47.3     -125.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 3 × 3
  site_name temperature date      
  &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;    
1 Site A           20.5 2020-01-01
2 Site A           21.3 2020-01-02
3 Site B           18.9 2020-02-01</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If we inverse the order of the data frames, we get a different result. The next bloc of code says:</p>
<p><span class="text-outline">find all observations in <code>measurements</code> that have no match in <code>sites</code></span></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-81_5e5f8df2cc1c1865baf3fb53433c3477">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a><span class="fu">anti_join</span>(measurements, sites, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"site_name"</span> <span class="ot">=</span> <span class="st">"site_id"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# … with 3 variables: site_name &lt;chr&gt;, temperature &lt;dbl&gt;, date &lt;date&gt;</code></pre>
</div>
</div>
</section>
<section id="inequality-and-rolling-joins" class="slide level2">
<h2>Inequality and rolling joins</h2>
<p>So far, we have joined tables on the exact match: <strong>both tables need to have columns sharing the same value</strong>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-82_fa9e7c3d696100dec9edb1b5271b32f3">

</div>
<p>Now, consider these two data frames to merge using the <code>depth_m</code> column.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-83_02c4263681b9b74a1cd052950caa0b42">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1"></a>df_temperature</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  depth_m  chla
    &lt;dbl&gt; &lt;dbl&gt;
1     1.1   0.1
2     1.4   0.3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-84_f940952ae453eb447e3c56341611b261">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1"></a>df_o2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  depth_m  doxy
    &lt;dbl&gt; &lt;dbl&gt;
1    1.12   200
2    1.2    250</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<p>What will happen if I try to join them?</p>
</div>
</section>
<section id="inequality-joins" class="slide level2">
<h2>Inequality joins</h2>
<p>Joining these table <strong>is not working</strong> because there are no values of <code>depth_m</code> that match between <code>df_temperature</code> and <code>df_o2</code></p>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1"></a>df_temperature</span>
<span id="cb138-2"><a href="#cb138-2"></a>df_o2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-85_454a77fd361406c033f4ed67770930a9">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 2 × 2
  depth_m  chla
    &lt;dbl&gt; &lt;dbl&gt;
1     1.1   0.1
2     1.4   0.3</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 2 × 2
  depth_m  doxy
    &lt;dbl&gt; &lt;dbl&gt;
1    1.12   200
2    1.2    250</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="columns small">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-86_520ad36ee1626c9f0cc2f23a9766bafe">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">left_join</span>(df_temperature, df_o2, <span class="at">by =</span> <span class="st">"depth_m"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  depth_m  chla  doxy
    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1.1   0.1    NA
2     1.4   0.3    NA</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-87_93aadd1ccd76842c450c914658bda1ef">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="fu">inner_join</span>(df_temperature, df_o2, <span class="at">by =</span> <span class="st">"depth_m"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# … with 3 variables: depth_m &lt;dbl&gt;, chla &lt;dbl&gt;, doxy &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="inequality-joins-1" class="slide level2">
<h2>Inequality joins</h2>
<p>Because there are no exact matches in the <code>depth_m</code> column, we can use an inequality join with the <code>join_by()</code> function.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-88_f589dc3ff9b39e8a63f019638db14ad7">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="fu">left_join</span>(df_temperature, df_o2, <span class="at">by =</span> <span class="fu">join_by</span>(depth_m <span class="sc">&lt;=</span> depth_m))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  depth_m.x  chla depth_m.y  doxy
      &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1       1.1   0.1      1.12   200
2       1.1   0.1      1.2    250
3       1.4   0.3     NA       NA</code></pre>
</div>
</div>
<p>The previous bloc of code says:</p>
<p><span class="fragment text-outline">left join <code>df_temperature</code> and <code>df_o2</code></span> <span class="fragment text-outline">where <code>depth_m</code> in <code>df_temperature</code> is smaller or equal to <code>depth_m</code> in <code>df_o2</code></span></p>
</section>
<section id="inequality-joins-2" class="slide level2">
<h2>Inequality joins</h2>
<div class="small">
<div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a>df_temperature</span>
<span id="cb147-2"><a href="#cb147-2"></a>df_o2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="index_cache/revealjs/unnamed-chunk-89_13b79c12dfaae92359289c5f423aca71">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 2 × 2
  depth_m  chla
    &lt;dbl&gt; &lt;dbl&gt;
1     1.1   0.1
2     1.4   0.3</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 2 × 2
  depth_m  doxy
    &lt;dbl&gt; &lt;dbl&gt;
1    1.12   200
2    1.2    250</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Note that there are two rows in <code>df_o2</code> that match the specified condition. This is why we end up with three rows after joining.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-90_acfafe6e474bbdab1abe2760b9c693fb">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1"></a><span class="fu">left_join</span>(df_temperature, df_o2, <span class="at">by =</span> <span class="fu">join_by</span>(depth_m <span class="sc">&lt;=</span> depth_m))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  depth_m.x  chla depth_m.y  doxy
      &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1       1.1   0.1      1.12   200
2       1.1   0.1      1.2    250
3       1.4   0.3     NA       NA</code></pre>
</div>
</div>
</section>
<section id="rolling-joins" class="slide level2">
<h2>Rolling joins</h2>
<p>Instead of using an inequality join, we can try a rolling join. This type of join limits the results returned from an inequality join condition and uses the <code>closest()</code> function.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-91_0e154182f5a904ab6440d902ec95f215">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">left_join</span>(df_temperature, df_o2, <span class="at">by =</span> <span class="fu">join_by</span>(<span class="fu">closest</span>(depth_m <span class="sc">&lt;=</span> depth_m)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  depth_m.x  chla depth_m.y  doxy
      &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1       1.1   0.1      1.12   200
2       1.4   0.3     NA       NA</code></pre>
</div>
</div>
<p>The previous bloc of code says:</p>
<p><span class="fragment text-outline">left join <code>df_temperature</code> and <code>df_o2</code></span> <span class="fragment text-outline">where <code>depth_m</code> in <code>df_temperature</code> is smaller or equal to <code>depth_m</code> in <code>df_o2</code></span> <span class="fragment text-outline"><strong>but</strong> only keep the closest match</span></p>
</section>
<section id="exercise" class="slide level2">
<h2>Exercise</h2>
<p>Your turn: question</p>
<figure>
<center>
<img src="https://bookdown.org/asmundhreinn/r4ds-master/diagrams/relational-nycflights.png" alt="Trulli" style="width:50%">
<figcaption>
Source: <a href="https://bookdown.org/asmundhreinn/r4ds-master/">R for Data Science</a>
</figcaption>
</center>
</figure>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-92_287575479cc5a218c6c2bd8c47b7b047">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1"></a>weather</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26,115 × 15
   origin  year month   day  hour  temp  dewp humid wind_dir wind_speed wind_g…¹
   &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;
 1 EWR     2013     1     1     1 39.02 26.06 59.37      270    10.357        NA
 2 EWR     2013     1     1     2 39.02 26.96 61.63      250     8.0555       NA
 3 EWR     2013     1     1     3 39.02 28.04 64.43      240    11.508        NA
 4 EWR     2013     1     1     4 39.92 28.04 62.21      250    12.659        NA
 5 EWR     2013     1     1     5 39.02 28.04 64.43      260    12.659        NA
 6 EWR     2013     1     1     6 37.94 28.04 67.21      240    11.508        NA
 7 EWR     2013     1     1     7 39.02 28.04 64.43      240    14.960        NA
 8 EWR     2013     1     1     8 39.92 28.04 62.21      250    10.357        NA
 9 EWR     2013     1     1     9 39.92 28.04 62.21      260    14.960        NA
10 EWR     2013     1     1    10 41    28.04 59.65      260    13.809        NA
# … with 26,105 more rows, 4 more variables: precip &lt;dbl&gt;, pressure &lt;dbl&gt;,
#   visib &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable name ¹​wind_gust</code></pre>
</div>
</div>
</section></section>
<section id="time-to-practice" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Time to practice</h1>
<p>1 - Work on your data</p>
<p>2 - SQL Murder Mystery: <a href="https://mystery.knightlab.com/">https://mystery.knightlab.com/</a></p>
</section>

<section>
<section id="sql-murder-mystery" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>SQL Murder Mystery</h1>

<img data-src="images/unsplash_police_car.jpg" class="r-stretch quarto-figure-center"><p class="caption">Photo by <a href="https://unsplash.com/@mattpopovich?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Matt Popovich</a> on <a href="https://unsplash.com/photos/7mqsZsE6FaU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p></section>
<section id="sql-murder-mystery-1" class="slide level2">
<h2>SQL Murder Mystery</h2>
<div class="columns">
<div class="column" style="width:40%;">
<blockquote>
<p>There’s been a Murder in SQL City! The SQL Murder Mystery is designed to be both a self-directed lesson to learn SQL concepts and commands and a fun game for experienced SQL users to solve an intriguing crime <a href="https://mystery.knightlab.com/">https://mystery.knightlab.com/</a>.</p>
</blockquote>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/unsplash_do_not_cross.jpg" style="width:6in"></p>
<p></p><figcaption>Photo by <a href="https://unsplash.com/@davidvondiemar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">David von Diemar</a> on <a href="https://unsplash.com/photos/jM6Y2nhsAtk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></figcaption><p></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sql-murder-mystery-2" class="slide level2">
<h2>SQL Murder Mystery</h2>
<ul>
<li><p>A crime has taken place and the detective needs your help.</p></li>
<li><p>The detective gave you the <strong>crime scene report</strong>, but you somehow lost it.</p></li>
<li><p>You vaguely remember that the crime was <strong>a ​murder​</strong> that occurred sometime on <strong>​Jan.15, 2018​</strong> and that it took place in <strong>​SQL City​</strong>.</p></li>
<li><p>Start by retrieving the corresponding <strong>crime scene report</strong> from the police department’s database.</p></li>
</ul>
</section>
<section id="sql-murder-mystery-3" class="slide level2">
<h2>SQL Murder Mystery</h2>
<ul>
<li>There are several files (tables) with all the information you need to find the murderer.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-93_6717d607be305f42230370ed8e32f217">
<div class="cell-output cell-output-stdout">
<pre><code>data/sql_murder_mystery/
├── crime_scene_report.csv
├── drivers_license.csv
├── facebook_event_checkin.csv
├── get_fit_now_check_in.csv
├── get_fit_now_member.csv
├── income.csv
├── interview.csv
├── person.csv
└── solution.csv</code></pre>
</div>
</div>
</section>
<section id="sql-murder-mystery-4" class="slide level2">
<h2>SQL Murder Mystery</h2>
<p>Entity-relationship (ER) diagram of the SQL murder tables</p>
<div class="cell" data-layout-align="center" data-fig.format="png" data-fig.asp="0.5" data-hash="index_cache/revealjs/unnamed-chunk-94_f225beb0ffe1bf87c33e0ed4e0530169">
<div class="cell-output-display">

<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-36233ef9f53745474802" style="width:60%;height:900px;"></div>
<script type="application/json" data-for="htmlwidget-36233ef9f53745474802">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"Data Model\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\npack=true\npackmode= \"node\"\n\n  \"crime_scene_report\" [id = \"crime_scene_report\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">crime_scene_report<\/FONT>\n<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"drivers_license\" [id = \"drivers_license\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">drivers_license<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"facebook_event_checkin\" [id = \"facebook_event_checkin\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">facebook_event_checkin<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"person_id\">person_id<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"event_id\"><U>event_id<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"get_fit_now_member\" [id = \"get_fit_now_member\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">get_fit_now_member<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"person_id\">person_id<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"interview\" [id = \"interview\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">interview<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"person_id\">person_id<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"person\" [id = \"person\", label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">person<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"id\"><U>id<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"license_id\">license_id<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\"get_fit_now_member\":\"person_id\"->\"person\":\"id\" [id=\"get_fit_now_member_1\"]\n\"interview\":\"person_id\"->\"person\":\"id\" [id=\"interview_1\"]\n\"facebook_event_checkin\":\"person_id\"->\"person\":\"id\" [id=\"facebook_event_checkin_1\"]\n\"person\":\"license_id\"->\"drivers_license\":\"id\" [id=\"person_1\"]\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="sql-murder-mystery-5" class="slide level2">
<h2>SQL Murder Mystery</h2>
<p>Your challenges consist in:</p>
<ul>
<li><p>Find the murderer</p></li>
<li><p>Find who commissioned the murder</p></li>
</ul>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Getting started</strong></p>
</div>
<div class="callout-content">
<p>Open the file <code>crime_scene_report.csv</code> and search for a <strong>murder that occurred on January 15 of 2018 in the SQL City</strong>. From there, conduct your investigation!</p>
</div>
</div>
</div>
<div class="footer footer-default">
<p><a href="https://pmassicotte.github.io/efficient_data_manipulation_with_r">https://pmassicotte.github.io/efficient_data_manipulation_with_r</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>